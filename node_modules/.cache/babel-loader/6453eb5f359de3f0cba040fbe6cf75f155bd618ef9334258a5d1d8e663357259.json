{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Selecty\\\\Documents\\\\PetProjects\\\\chronoline-frontend\\\\src\\\\components\\\\FilterDropdown.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useMobile } from '../hooks/useMobile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FilterDropdown = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  title,\n  items,\n  selectedItems,\n  onSelectionChange,\n  getItemColor,\n  icon,\n  textLabel\n}) => {\n  _s();\n  const isActive = selectedItems.length > 0;\n  const dropdownRef = useRef(null);\n  const contentRef = useRef(null);\n  const [dropdownPosition, setDropdownPosition] = useState('bottom');\n  const [horizontalPosition, setHorizontalPosition] = useState('left');\n  const [portalContainer, setPortalContainer] = useState(null);\n  const isMobile = useMobile();\n  const closeTimeoutRef = useRef(null);\n  const isMouseOverRef = useRef(false);\n  const isOpenRef = useRef(false);\n\n  // Используем ref для состояния isOpen, чтобы избежать сброса при перерендеринге\n  const setIsOpen = useCallback(value => {\n    isOpenRef.current = value;\n    // Принудительно вызываем перерендер\n    if (value !== isOpenRef.current) {\n      // Используем setTimeout для асинхронного обновления\n      setTimeout(() => {\n        if (value) {\n          // Если открываем, обновляем позицию\n          updateDropdownPosition();\n        }\n      }, 0);\n    }\n  }, []);\n\n  // Функция для получения текущего состояния\n  const getIsOpen = useCallback(() => isOpenRef.current, []);\n\n  // Create portal container for mobile popups\n  useEffect(() => {\n    if (isMobile && getIsOpen()) {\n      const container = document.createElement('div');\n      container.style.position = 'fixed';\n      container.style.top = '0';\n      container.style.left = '0';\n      container.style.width = '100%';\n      container.style.height = '100%';\n      container.style.zIndex = '10003';\n      container.style.pointerEvents = 'auto';\n      container.style.backgroundColor = 'rgba(0, 0, 0, 0.3)'; // Semi-transparent overlay\n\n      // Add click handler to close dropdown when clicking overlay\n      container.addEventListener('click', e => {\n        if (e.target === container) {\n          setIsOpen(false);\n        }\n      });\n      document.body.appendChild(container);\n      setPortalContainer(container);\n      return () => {\n        if (container.parentNode) {\n          container.parentNode.removeChild(container);\n        }\n        setPortalContainer(null);\n      };\n    }\n  }, [isMobile, getIsOpen]);\n\n  // Функция для определения позиции dropdown\n  const updateDropdownPosition = useCallback(() => {\n    if (!dropdownRef.current || !contentRef.current) return;\n    const dropdownRect = dropdownRef.current.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const viewportWidth = window.innerWidth;\n\n    // Оценка высоты контента (примерная)\n    const estimatedContentHeight = Math.min(items.length * 30 + 80, 300); // 30px на элемент + 80px для кнопок\n\n    // Проверяем, помещается ли dropdown снизу\n    const spaceBelow = viewportHeight - dropdownRect.bottom;\n    const spaceAbove = dropdownRect.top;\n    if (spaceBelow < estimatedContentHeight && spaceAbove > estimatedContentHeight) {\n      setDropdownPosition('top');\n    } else {\n      setDropdownPosition('bottom');\n    }\n\n    // Проверяем горизонтальное позиционирование для всех устройств\n    const dropdownWidth = isMobile ? Math.min(250, viewportWidth - 20) : 300; // Ограничиваем ширину на мобильных\n    const spaceRight = viewportWidth - dropdownRect.left;\n    const spaceLeft = dropdownRect.right;\n\n    // На мобильных устройствах приоритет отдаем центрированию\n    if (isMobile) {\n      // Если dropdown шире, чем доступное пространство, центрируем его\n      if (dropdownWidth >= viewportWidth - 20) {\n        setHorizontalPosition('center');\n      } else if (spaceRight < dropdownWidth && spaceLeft > dropdownWidth) {\n        setHorizontalPosition('right');\n      } else {\n        setHorizontalPosition('left');\n      }\n    } else {\n      // На десктопе используем старую логику\n      if (spaceRight < dropdownWidth && spaceLeft > dropdownWidth) {\n        setHorizontalPosition('right');\n      } else {\n        setHorizontalPosition('left');\n      }\n    }\n  }, [items.length, isMobile]);\n\n  // Обновляем позицию dropdown при изменении размера окна\n  useEffect(() => {\n    const handleResize = () => {\n      if (getIsOpen()) {\n        updateDropdownPosition();\n      }\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [getIsOpen, updateDropdownPosition]);\n\n  // Дополнительная проверка для мобильных устройств\n  useEffect(() => {\n    if (isMobile && isOpen) {\n      const checkPosition = () => {\n        if (contentRef.current) {\n          const rect = contentRef.current.getBoundingClientRect();\n          const viewportWidth = window.innerWidth;\n\n          // Если dropdown выходит за пределы экрана, пересчитываем позицию\n          if (rect.left < 0 || rect.right > viewportWidth) {\n            updateDropdownPosition();\n          }\n          // Если dropdown слишком высокий, пересчитываем вертикальную позицию\n          if (rect.bottom > window.innerHeight) {\n            setDropdownPosition('top');\n          }\n        }\n      };\n\n      // Проверяем позицию после рендера\n      setTimeout(checkPosition, 100);\n    }\n  }, [isMobile, isOpen, updateDropdownPosition]);\n\n  // Очистка таймера при размонтировании\n  useEffect(() => {\n    return () => {\n      if (closeTimeoutRef.current) {\n        clearTimeout(closeTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Улучшенные обработчики для разных устройств\n  const handleMouseEnter = () => {\n    if (!isMobile) {\n      // Очищаем таймер закрытия\n      if (closeTimeoutRef.current) {\n        clearTimeout(closeTimeoutRef.current);\n        closeTimeoutRef.current = null;\n      }\n      isMouseOverRef.current = true;\n      if (!isOpenRef.current) {\n        setIsOpen(true);\n        // Небольшая задержка для корректного расчета позиции\n        setTimeout(updateDropdownPosition, 0);\n      }\n    }\n  };\n  const handleMouseLeave = () => {\n    if (!isMobile) {\n      isMouseOverRef.current = false;\n\n      // Добавляем задержку перед закрытием, чтобы избежать преждевременного закрытия\n      // при быстром движении курсора\n      closeTimeoutRef.current = setTimeout(() => {\n        if (!isMouseOverRef.current && !isOpenRef.current) {\n          setIsOpen(false);\n        }\n      }, 150); // Увеличиваем задержку до 150ms\n    }\n  };\n  const handleClick = () => {\n    if (isMobile) {\n      const newIsOpen = !isOpenRef.current;\n      setIsOpen(newIsOpen);\n      if (newIsOpen) {\n        // На мобильных устройствах добавляем дополнительную задержку\n        setTimeout(updateDropdownPosition, 50);\n      }\n    }\n  };\n\n  // Обработка клика вне dropdown для мобильных устройств\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (isMobile && isOpen) {\n        var _dropdownRef$current, _contentRef$current;\n        const target = event.target;\n        const isClickInsideDropdown = (_dropdownRef$current = dropdownRef.current) === null || _dropdownRef$current === void 0 ? void 0 : _dropdownRef$current.contains(target);\n        const isClickInsideContent = (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.contains(target);\n        if (!isClickInsideDropdown && !isClickInsideContent) {\n          setIsOpen(false);\n        }\n      }\n    };\n    if (isMobile && isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isMobile, isOpen]);\n\n  // Восстанавливаем состояние dropdown после перерендеринга\n  useEffect(() => {\n    if (isOpenRef.current && !isOpen) {\n      // Увеличиваем задержку для более стабильного восстановления\n      const timer = setTimeout(() => {\n        if (isOpenRef.current) {\n          setIsOpen(true);\n        }\n      }, 10);\n      return () => clearTimeout(timer);\n    }\n  }, [isOpen]);\n\n  // Обработчики для контента dropdown\n  const handleContentMouseEnter = () => {\n    if (!isMobile) {\n      isMouseOverRef.current = true;\n      // Очищаем таймер закрытия при наведении на контент\n      if (closeTimeoutRef.current) {\n        clearTimeout(closeTimeoutRef.current);\n        closeTimeoutRef.current = null;\n      }\n    }\n  };\n  const handleContentMouseLeave = () => {\n    if (!isMobile) {\n      isMouseOverRef.current = false;\n\n      // Добавляем задержку перед закрытием контента\n      closeTimeoutRef.current = setTimeout(() => {\n        if (!isMouseOverRef.current && !isOpenRef.current) {\n          setIsOpen(false);\n        }\n      }, 150);\n    }\n  };\n\n  // Calculate popup position for mobile\n  const getMobilePopupPosition = () => {\n    if (!dropdownRef.current) return {\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)'\n    };\n    const buttonRect = dropdownRef.current.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n\n    // Position dropdown below the button\n    let top = buttonRect.bottom + 8; // 8px gap below button\n    let left = buttonRect.left;\n\n    // Ensure dropdown doesn't go off-screen\n    const estimatedDropdownWidth = Math.min(250, viewportWidth - 20);\n    const estimatedDropdownHeight = Math.min(300, viewportHeight * 0.6);\n\n    // Adjust horizontal position if dropdown would go off-screen\n    if (left + estimatedDropdownWidth > viewportWidth - 10) {\n      left = viewportWidth - estimatedDropdownWidth - 10;\n    }\n    if (left < 10) {\n      left = 10;\n    }\n\n    // If dropdown would go off-screen at the bottom, position it above the button\n    if (top + estimatedDropdownHeight > viewportHeight - 10) {\n      top = buttonRect.top - estimatedDropdownHeight - 8;\n    }\n\n    // Ensure dropdown doesn't go off-screen at the top\n    if (top < 10) {\n      top = 10;\n    }\n    return {\n      top: `${top}px`,\n      left: `${left}px`,\n      transform: 'none'\n    };\n  };\n\n  // Render dropdown content\n  const renderDropdownContent = () => {\n    const mobilePopupStyle = isMobile ? getMobilePopupPosition() : {\n      top: '',\n      left: '',\n      transform: ''\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-dropdown-content\",\n      ref: contentRef,\n      onMouseEnter: handleContentMouseEnter,\n      onMouseLeave: handleContentMouseLeave,\n      role: \"listbox\",\n      \"aria-label\": `Список ${title}`,\n      \"aria-multiselectable\": \"true\",\n      style: {\n        position: isMobile ? 'fixed' : 'absolute',\n        top: isMobile ? mobilePopupStyle.top : dropdownPosition === 'bottom' ? '100%' : 'auto',\n        bottom: isMobile ? 'auto' : dropdownPosition === 'top' ? '100%' : 'auto',\n        left: isMobile ? mobilePopupStyle.left : horizontalPosition === 'left' ? '0' : horizontalPosition === 'center' ? '50%' : 'auto',\n        right: isMobile ? 'auto' : horizontalPosition === 'right' ? '0' : 'auto',\n        transform: isMobile ? mobilePopupStyle.transform : horizontalPosition === 'center' ? 'translateX(-50%)' : 'none',\n        zIndex: isMobile ? 10003 : 1000,\n        maxHeight: isMobile ? '50vh' : '300px',\n        overflowY: 'auto',\n        display: 'block',\n        minWidth: isMobile ? '200px' : '250px',\n        maxWidth: isMobile ? '280px' : '300px',\n        width: isMobile ? 'auto' : isMobile && horizontalPosition === 'center' ? 'calc(100vw - 40px)' : 'auto',\n        background: 'rgba(44, 24, 16, 0.98)',\n        border: '2px solid rgba(244, 228, 193, 0.3)',\n        borderRadius: isMobile ? '12px' : '6px',\n        boxShadow: isMobile ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 4px 12px rgba(0, 0, 0, 0.3)',\n        backdropFilter: 'blur(10px)',\n        pointerEvents: isMobile ? 'auto' : 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: isMobile ? '0.8rem' : '0.5rem',\n          borderBottom: '1px solid rgba(139, 69, 19, 0.3)',\n          display: 'flex',\n          gap: '0.5rem',\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onSelectionChange(items);\n          },\n          \"aria-label\": `Выбрать все ${title}`,\n          style: {\n            padding: isMobile ? '0.5rem 0.8rem' : '0.25rem 0.5rem',\n            background: '#27ae60',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: isMobile ? '0.8rem' : '0.7rem',\n            flex: isMobile ? '1' : 'auto',\n            minHeight: isMobile ? '44px' : 'auto'\n          },\n          children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onSelectionChange([]);\n          },\n          \"aria-label\": `Снять все ${title}`,\n          style: {\n            padding: isMobile ? '0.5rem 0.8rem' : '0.25rem 0.5rem',\n            background: '#e74c3c',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: isMobile ? '0.8rem' : '0.7rem',\n            flex: isMobile ? '1' : 'auto',\n            minHeight: isMobile ? '44px' : 'auto'\n          },\n          children: \"\\u0421\\u043D\\u044F\\u0442\\u044C \\u0432\\u0441\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"filter-checkbox\",\n        onClick: e => e.stopPropagation(),\n        role: \"option\",\n        \"aria-selected\": selectedItems.includes(item),\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          padding: isMobile ? '0.6rem 0.5rem' : '0.4rem 0.5rem',\n          cursor: 'pointer',\n          transition: 'background-color 0.2s ease',\n          borderRadius: '3px',\n          margin: '0.1rem 0',\n          minHeight: isMobile ? '44px' : 'auto' // Минимальная высота для мобильных устройств\n        },\n        onMouseEnter: e => {\n          if (!isMobile) {\n            e.currentTarget.style.backgroundColor = 'rgba(139, 69, 19, 0.1)';\n          }\n        },\n        onMouseLeave: e => {\n          if (!isMobile) {\n            e.currentTarget.style.backgroundColor = 'transparent';\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: selectedItems.includes(item),\n          onChange: e => {\n            e.stopPropagation();\n            if (e.target.checked) {\n              onSelectionChange([...selectedItems, item]);\n            } else {\n              onSelectionChange(selectedItems.filter(i => i !== item));\n            }\n          },\n          \"aria-label\": `Выбрать ${item}`,\n          style: {\n            margin: 0,\n            cursor: 'pointer'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: getItemColor ? getItemColor(item) : '#f4e4c1',\n            fontWeight: getItemColor ? 'bold' : 'normal',\n            fontSize: '0.8rem'\n          },\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this)]\n      }, item, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filter-dropdown\",\n    ref: dropdownRef,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: `filter-btn ${isActive ? 'active' : ''}`,\n      style: {\n        minWidth: 'auto',\n        padding: isMobile ? '0.5rem 0.8rem' : '0.3rem 0.6rem',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '0.3rem',\n        background: isActive ? 'rgba(139, 69, 19, 0.15)' : 'rgba(139, 69, 19, 0.08)',\n        border: `1px solid ${isActive ? 'rgba(139, 69, 19, 0.3)' : 'rgba(139, 69, 19, 0.2)'}`,\n        borderRadius: '4px',\n        color: '#f4e4c1',\n        fontSize: isMobile ? '0.9rem' : '0.7rem',\n        cursor: 'pointer',\n        transition: 'all 0.2s ease',\n        whiteSpace: 'nowrap'\n      },\n      onClick: handleClick,\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": isOpen,\n      \"aria-label\": `${title} - ${selectedItems.length} выбрано из ${items.length}`,\n      children: [icon && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"filter-icon\",\n        children: icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"filter-text\",\n        children: textLabel || title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this), isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"filter-count\",\n        children: [\"(\", selectedItems.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this), isOpen && (isMobile && portalContainer ? (/*#__PURE__*/createPortal(renderDropdownContent(), portalContainer)) : renderDropdownContent())]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 465,\n    columnNumber: 5\n  }, this);\n}, \"o1D2Zk4/tRUE5Z1GAL8XbJacKfE=\", false, function () {\n  return [useMobile];\n})), \"o1D2Zk4/tRUE5Z1GAL8XbJacKfE=\", false, function () {\n  return [useMobile];\n});\n_c2 = FilterDropdown;\nvar _c, _c2;\n$RefreshReg$(_c, \"FilterDropdown$React.memo\");\n$RefreshReg$(_c2, \"FilterDropdown\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","createPortal","useMobile","jsxDEV","_jsxDEV","FilterDropdown","_s","memo","_c","title","items","selectedItems","onSelectionChange","getItemColor","icon","textLabel","isActive","length","dropdownRef","contentRef","dropdownPosition","setDropdownPosition","horizontalPosition","setHorizontalPosition","portalContainer","setPortalContainer","isMobile","closeTimeoutRef","isMouseOverRef","isOpenRef","setIsOpen","value","current","setTimeout","updateDropdownPosition","getIsOpen","container","document","createElement","style","position","top","left","width","height","zIndex","pointerEvents","backgroundColor","addEventListener","e","target","body","appendChild","parentNode","removeChild","dropdownRect","getBoundingClientRect","viewportHeight","window","innerHeight","viewportWidth","innerWidth","estimatedContentHeight","Math","min","spaceBelow","bottom","spaceAbove","dropdownWidth","spaceRight","spaceLeft","right","handleResize","removeEventListener","isOpen","checkPosition","rect","clearTimeout","handleMouseEnter","handleMouseLeave","handleClick","newIsOpen","handleClickOutside","event","_dropdownRef$current","_contentRef$current","isClickInsideDropdown","contains","isClickInsideContent","timer","handleContentMouseEnter","handleContentMouseLeave","getMobilePopupPosition","transform","buttonRect","estimatedDropdownWidth","estimatedDropdownHeight","renderDropdownContent","mobilePopupStyle","className","ref","onMouseEnter","onMouseLeave","role","maxHeight","overflowY","display","minWidth","maxWidth","background","border","borderRadius","boxShadow","backdropFilter","children","padding","borderBottom","gap","flexWrap","onClick","stopPropagation","color","cursor","fontSize","flex","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","map","item","includes","alignItems","transition","margin","currentTarget","type","checked","onChange","filter","i","fontWeight","whiteSpace","_c2","$RefreshReg$"],"sources":["C:/Users/Selecty/Documents/PetProjects/chronoline-frontend/src/components/FilterDropdown.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { useMobile } from '../hooks/useMobile'\r\n\r\ninterface FilterDropdownProps {\r\n  title: string\r\n  items: string[]\r\n  selectedItems: string[]\r\n  onSelectionChange: (items: string[]) => void\r\n  getItemColor?: (item: string) => string\r\n  icon?: React.ReactNode\r\n  textLabel?: string\r\n}\r\n\r\nexport const FilterDropdown: React.FC<FilterDropdownProps> = React.memo(({ \r\n  title, \r\n  items, \r\n  selectedItems, \r\n  onSelectionChange, \r\n  getItemColor,\r\n  icon,\r\n  textLabel\r\n}) => {\r\n  const isActive = selectedItems.length > 0\r\n  const dropdownRef = useRef<HTMLDivElement>(null)\r\n  const contentRef = useRef<HTMLDivElement>(null)\r\n  const [dropdownPosition, setDropdownPosition] = useState<'bottom' | 'top'>('bottom')\r\n  const [horizontalPosition, setHorizontalPosition] = useState<'left' | 'right' | 'center'>('left')\r\n  const [portalContainer, setPortalContainer] = useState<HTMLElement | null>(null)\r\n  const isMobile = useMobile()\r\n  const closeTimeoutRef = useRef<NodeJS.Timeout | null>(null)\r\n  const isMouseOverRef = useRef(false)\r\n  const isOpenRef = useRef(false)\r\n  \r\n  // Используем ref для состояния isOpen, чтобы избежать сброса при перерендеринге\r\n  const setIsOpen = useCallback((value: boolean) => {\r\n    isOpenRef.current = value\r\n    // Принудительно вызываем перерендер\r\n    if (value !== isOpenRef.current) {\r\n      // Используем setTimeout для асинхронного обновления\r\n      setTimeout(() => {\r\n        if (value) {\r\n          // Если открываем, обновляем позицию\r\n          updateDropdownPosition()\r\n        }\r\n      }, 0)\r\n    }\r\n  }, [])\r\n  \r\n  // Функция для получения текущего состояния\r\n  const getIsOpen = useCallback(() => isOpenRef.current, [])\r\n  \r\n  // Create portal container for mobile popups\r\n  useEffect(() => {\r\n    if (isMobile && getIsOpen()) {\r\n      const container = document.createElement('div')\r\n      container.style.position = 'fixed'\r\n      container.style.top = '0'\r\n      container.style.left = '0'\r\n      container.style.width = '100%'\r\n      container.style.height = '100%'\r\n      container.style.zIndex = '10003'\r\n      container.style.pointerEvents = 'auto'\r\n      container.style.backgroundColor = 'rgba(0, 0, 0, 0.3)' // Semi-transparent overlay\r\n      \r\n      // Add click handler to close dropdown when clicking overlay\r\n      container.addEventListener('click', (e) => {\r\n        if (e.target === container) {\r\n          setIsOpen(false)\r\n        }\r\n      })\r\n      \r\n      document.body.appendChild(container)\r\n      setPortalContainer(container)\r\n      \r\n      return () => {\r\n        if (container.parentNode) {\r\n          container.parentNode.removeChild(container)\r\n        }\r\n        setPortalContainer(null)\r\n      }\r\n    }\r\n  }, [isMobile, getIsOpen])\r\n  \r\n  // Функция для определения позиции dropdown\r\n  const updateDropdownPosition = useCallback(() => {\r\n    if (!dropdownRef.current || !contentRef.current) return\r\n    \r\n    const dropdownRect = dropdownRef.current.getBoundingClientRect()\r\n    const viewportHeight = window.innerHeight\r\n    const viewportWidth = window.innerWidth\r\n    \r\n    // Оценка высоты контента (примерная)\r\n    const estimatedContentHeight = Math.min(items.length * 30 + 80, 300) // 30px на элемент + 80px для кнопок\r\n    \r\n    // Проверяем, помещается ли dropdown снизу\r\n    const spaceBelow = viewportHeight - dropdownRect.bottom\r\n    const spaceAbove = dropdownRect.top\r\n    \r\n    if (spaceBelow < estimatedContentHeight && spaceAbove > estimatedContentHeight) {\r\n      setDropdownPosition('top')\r\n    } else {\r\n      setDropdownPosition('bottom')\r\n    }\r\n    \r\n    // Проверяем горизонтальное позиционирование для всех устройств\r\n    const dropdownWidth = isMobile ? Math.min(250, viewportWidth - 20) : 300 // Ограничиваем ширину на мобильных\r\n    const spaceRight = viewportWidth - dropdownRect.left\r\n    const spaceLeft = dropdownRect.right\r\n    \r\n    // На мобильных устройствах приоритет отдаем центрированию\r\n    if (isMobile) {\r\n      // Если dropdown шире, чем доступное пространство, центрируем его\r\n      if (dropdownWidth >= viewportWidth - 20) {\r\n        setHorizontalPosition('center')\r\n      } else if (spaceRight < dropdownWidth && spaceLeft > dropdownWidth) {\r\n        setHorizontalPosition('right')\r\n      } else {\r\n        setHorizontalPosition('left')\r\n      }\r\n    } else {\r\n      // На десктопе используем старую логику\r\n      if (spaceRight < dropdownWidth && spaceLeft > dropdownWidth) {\r\n        setHorizontalPosition('right')\r\n      } else {\r\n        setHorizontalPosition('left')\r\n      }\r\n    }\r\n  }, [items.length, isMobile])\r\n\r\n  // Обновляем позицию dropdown при изменении размера окна\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (getIsOpen()) {\r\n        updateDropdownPosition()\r\n      }\r\n    }\r\n    \r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [getIsOpen, updateDropdownPosition])\r\n  \r\n  // Дополнительная проверка для мобильных устройств\r\n  useEffect(() => {\r\n    if (isMobile && isOpen) {\r\n      const checkPosition = () => {\r\n        if (contentRef.current) {\r\n          const rect = contentRef.current.getBoundingClientRect()\r\n          const viewportWidth = window.innerWidth\r\n          \r\n          // Если dropdown выходит за пределы экрана, пересчитываем позицию\r\n          if (rect.left < 0 || rect.right > viewportWidth) {\r\n            updateDropdownPosition()\r\n          }\r\n          // Если dropdown слишком высокий, пересчитываем вертикальную позицию\r\n          if (rect.bottom > window.innerHeight) {\r\n            setDropdownPosition('top')\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Проверяем позицию после рендера\r\n      setTimeout(checkPosition, 100)\r\n    }\r\n  }, [isMobile, isOpen, updateDropdownPosition])\r\n  \r\n  // Очистка таймера при размонтировании\r\n  useEffect(() => {\r\n    return () => {\r\n      if (closeTimeoutRef.current) {\r\n        clearTimeout(closeTimeoutRef.current)\r\n      }\r\n    }\r\n  }, [])\r\n  \r\n  // Улучшенные обработчики для разных устройств\r\n  const handleMouseEnter = () => {\r\n    if (!isMobile) {\r\n      // Очищаем таймер закрытия\r\n      if (closeTimeoutRef.current) {\r\n        clearTimeout(closeTimeoutRef.current)\r\n        closeTimeoutRef.current = null\r\n      }\r\n      \r\n      isMouseOverRef.current = true\r\n      if (!isOpenRef.current) {\r\n        setIsOpen(true)\r\n        // Небольшая задержка для корректного расчета позиции\r\n        setTimeout(updateDropdownPosition, 0)\r\n      }\r\n    }\r\n  }\r\n  \r\n  const handleMouseLeave = () => {\r\n    if (!isMobile) {\r\n      isMouseOverRef.current = false\r\n      \r\n      // Добавляем задержку перед закрытием, чтобы избежать преждевременного закрытия\r\n      // при быстром движении курсора\r\n      closeTimeoutRef.current = setTimeout(() => {\r\n        if (!isMouseOverRef.current && !isOpenRef.current) {\r\n          setIsOpen(false)\r\n        }\r\n      }, 150) // Увеличиваем задержку до 150ms\r\n    }\r\n  }\r\n  \r\n  const handleClick = () => {\r\n    if (isMobile) {\r\n      const newIsOpen = !isOpenRef.current\r\n      setIsOpen(newIsOpen)\r\n      if (newIsOpen) {\r\n        // На мобильных устройствах добавляем дополнительную задержку\r\n        setTimeout(updateDropdownPosition, 50)\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Обработка клика вне dropdown для мобильных устройств\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (isMobile && isOpen) {\r\n        const target = event.target as Node\r\n        const isClickInsideDropdown = dropdownRef.current?.contains(target)\r\n        const isClickInsideContent = contentRef.current?.contains(target)\r\n        \r\n        if (!isClickInsideDropdown && !isClickInsideContent) {\r\n          setIsOpen(false)\r\n        }\r\n      }\r\n    }\r\n    \r\n    if (isMobile && isOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside)\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside)\r\n    }\r\n  }, [isMobile, isOpen])\r\n  \r\n  // Восстанавливаем состояние dropdown после перерендеринга\r\n  useEffect(() => {\r\n    if (isOpenRef.current && !isOpen) {\r\n      // Увеличиваем задержку для более стабильного восстановления\r\n      const timer = setTimeout(() => {\r\n        if (isOpenRef.current) {\r\n          setIsOpen(true)\r\n        }\r\n      }, 10)\r\n      \r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [isOpen])\r\n  \r\n  // Обработчики для контента dropdown\r\n  const handleContentMouseEnter = () => {\r\n    if (!isMobile) {\r\n      isMouseOverRef.current = true\r\n      // Очищаем таймер закрытия при наведении на контент\r\n      if (closeTimeoutRef.current) {\r\n        clearTimeout(closeTimeoutRef.current)\r\n        closeTimeoutRef.current = null\r\n      }\r\n    }\r\n  }\r\n  \r\n  const handleContentMouseLeave = () => {\r\n    if (!isMobile) {\r\n      isMouseOverRef.current = false\r\n      \r\n      // Добавляем задержку перед закрытием контента\r\n      closeTimeoutRef.current = setTimeout(() => {\r\n        if (!isMouseOverRef.current && !isOpenRef.current) {\r\n          setIsOpen(false)\r\n        }\r\n      }, 150)\r\n    }\r\n  }\r\n\r\n  // Calculate popup position for mobile\r\n  const getMobilePopupPosition = () => {\r\n    if (!dropdownRef.current) return { top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }\r\n    \r\n    const buttonRect = dropdownRef.current.getBoundingClientRect()\r\n    const viewportWidth = window.innerWidth\r\n    const viewportHeight = window.innerHeight\r\n    \r\n    // Position dropdown below the button\r\n    let top = buttonRect.bottom + 8 // 8px gap below button\r\n    let left = buttonRect.left\r\n    \r\n    // Ensure dropdown doesn't go off-screen\r\n    const estimatedDropdownWidth = Math.min(250, viewportWidth - 20)\r\n    const estimatedDropdownHeight = Math.min(300, viewportHeight * 0.6)\r\n    \r\n    // Adjust horizontal position if dropdown would go off-screen\r\n    if (left + estimatedDropdownWidth > viewportWidth - 10) {\r\n      left = viewportWidth - estimatedDropdownWidth - 10\r\n    }\r\n    if (left < 10) {\r\n      left = 10\r\n    }\r\n    \r\n    // If dropdown would go off-screen at the bottom, position it above the button\r\n    if (top + estimatedDropdownHeight > viewportHeight - 10) {\r\n      top = buttonRect.top - estimatedDropdownHeight - 8\r\n    }\r\n    \r\n    // Ensure dropdown doesn't go off-screen at the top\r\n    if (top < 10) {\r\n      top = 10\r\n    }\r\n    \r\n    return {\r\n      top: `${top}px`,\r\n      left: `${left}px`,\r\n      transform: 'none'\r\n    }\r\n  }\r\n\r\n  // Render dropdown content\r\n  const renderDropdownContent = () => {\r\n    const mobilePopupStyle = isMobile ? getMobilePopupPosition() : { top: '', left: '', transform: '' }\r\n    \r\n    return (\r\n      <div \r\n        className=\"filter-dropdown-content\"\r\n        ref={contentRef}\r\n        onMouseEnter={handleContentMouseEnter}\r\n        onMouseLeave={handleContentMouseLeave}\r\n        role=\"listbox\"\r\n        aria-label={`Список ${title}`}\r\n        aria-multiselectable=\"true\"\r\n        style={{\r\n          position: isMobile ? 'fixed' : 'absolute',\r\n          top: isMobile ? mobilePopupStyle.top : (dropdownPosition === 'bottom' ? '100%' : 'auto'),\r\n          bottom: isMobile ? 'auto' : (dropdownPosition === 'top' ? '100%' : 'auto'),\r\n          left: isMobile ? mobilePopupStyle.left : (horizontalPosition === 'left' ? '0' : horizontalPosition === 'center' ? '50%' : 'auto'),\r\n          right: isMobile ? 'auto' : (horizontalPosition === 'right' ? '0' : 'auto'),\r\n          transform: isMobile ? mobilePopupStyle.transform : (horizontalPosition === 'center' ? 'translateX(-50%)' : 'none'),\r\n          zIndex: isMobile ? 10003 : 1000,\r\n          maxHeight: isMobile ? '50vh' : '300px',\r\n          overflowY: 'auto',\r\n          display: 'block',\r\n          minWidth: isMobile ? '200px' : '250px',\r\n          maxWidth: isMobile ? '280px' : '300px',\r\n          width: isMobile ? 'auto' : (isMobile && horizontalPosition === 'center' ? 'calc(100vw - 40px)' : 'auto'),\r\n          background: 'rgba(44, 24, 16, 0.98)',\r\n          border: '2px solid rgba(244, 228, 193, 0.3)',\r\n          borderRadius: isMobile ? '12px' : '6px',\r\n          boxShadow: isMobile ? '0 8px 32px rgba(0, 0, 0, 0.5)' : '0 4px 12px rgba(0, 0, 0, 0.3)',\r\n          backdropFilter: 'blur(10px)',\r\n          pointerEvents: isMobile ? 'auto' : 'auto'\r\n        }}\r\n      >\r\n        <div style={{ \r\n          padding: isMobile ? '0.8rem' : '0.5rem', \r\n          borderBottom: '1px solid rgba(139, 69, 19, 0.3)',\r\n          display: 'flex',\r\n          gap: '0.5rem',\r\n          flexWrap: 'wrap'\r\n        }}>\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation()\r\n              onSelectionChange(items)\r\n            }}\r\n            aria-label={`Выбрать все ${title}`}\r\n            style={{\r\n              padding: isMobile ? '0.5rem 0.8rem' : '0.25rem 0.5rem',\r\n              background: '#27ae60',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              fontSize: isMobile ? '0.8rem' : '0.7rem',\r\n              flex: isMobile ? '1' : 'auto',\r\n              minHeight: isMobile ? '44px' : 'auto'\r\n            }}\r\n          >\r\n            Выбрать все\r\n          </button>\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation()\r\n              onSelectionChange([])\r\n            }}\r\n            aria-label={`Снять все ${title}`}\r\n            style={{\r\n              padding: isMobile ? '0.5rem 0.8rem' : '0.25rem 0.5rem',\r\n              background: '#e74c3c',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              fontSize: isMobile ? '0.8rem' : '0.7rem',\r\n              flex: isMobile ? '1' : 'auto',\r\n              minHeight: isMobile ? '44px' : 'auto'\r\n            }}\r\n          >\r\n            Снять все\r\n          </button>\r\n        </div>\r\n        {items.map(item => (\r\n          <label \r\n            key={item} \r\n            className=\"filter-checkbox\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            role=\"option\"\r\n            aria-selected={selectedItems.includes(item)}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '0.5rem',\r\n              padding: isMobile ? '0.6rem 0.5rem' : '0.4rem 0.5rem',\r\n              cursor: 'pointer',\r\n              transition: 'background-color 0.2s ease',\r\n              borderRadius: '3px',\r\n              margin: '0.1rem 0',\r\n              minHeight: isMobile ? '44px' : 'auto' // Минимальная высота для мобильных устройств\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              if (!isMobile) {\r\n                e.currentTarget.style.backgroundColor = 'rgba(139, 69, 19, 0.1)'\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              if (!isMobile) {\r\n                e.currentTarget.style.backgroundColor = 'transparent'\r\n              }\r\n            }}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={selectedItems.includes(item)}\r\n              onChange={(e) => {\r\n                e.stopPropagation()\r\n                if (e.target.checked) {\r\n                  onSelectionChange([...selectedItems, item])\r\n                } else {\r\n                  onSelectionChange(selectedItems.filter(i => i !== item))\r\n                }\r\n              }}\r\n              aria-label={`Выбрать ${item}`}\r\n              style={{\r\n                margin: 0,\r\n                cursor: 'pointer'\r\n              }}\r\n            />\r\n            <span style={{ \r\n              color: getItemColor ? getItemColor(item) : '#f4e4c1',\r\n              fontWeight: getItemColor ? 'bold' : 'normal',\r\n              fontSize: '0.8rem'\r\n            }}>\r\n              {item}\r\n            </span>\r\n          </label>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div \r\n      className=\"filter-dropdown\" \r\n      ref={dropdownRef}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <button \r\n        className={`filter-btn ${isActive ? 'active' : ''}`}\r\n        style={{ \r\n          minWidth: 'auto',\r\n          padding: isMobile ? '0.5rem 0.8rem' : '0.3rem 0.6rem',\r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          gap: '0.3rem',\r\n          background: isActive ? 'rgba(139, 69, 19, 0.15)' : 'rgba(139, 69, 19, 0.08)',\r\n          border: `1px solid ${isActive ? 'rgba(139, 69, 19, 0.3)' : 'rgba(139, 69, 19, 0.2)'}`,\r\n          borderRadius: '4px',\r\n          color: '#f4e4c1',\r\n          fontSize: isMobile ? '0.9rem' : '0.7rem',\r\n          cursor: 'pointer',\r\n          transition: 'all 0.2s ease',\r\n          whiteSpace: 'nowrap'\r\n        }}\r\n        onClick={handleClick}\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={isOpen}\r\n        aria-label={`${title} - ${selectedItems.length} выбрано из ${items.length}`}\r\n      >\r\n        {icon && <span className=\"filter-icon\">{icon}</span>}\r\n        <span className=\"filter-text\">{textLabel || title}</span>\r\n        {isActive && <span className=\"filter-count\">({selectedItems.length})</span>}\r\n      </button>\r\n      {isOpen && (\r\n        isMobile && portalContainer ? (\r\n          createPortal(renderDropdownContent(), portalContainer)\r\n        ) : (\r\n          renderDropdownContent()\r\n        )\r\n      )}\r\n    </div>\r\n  )\r\n})"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}