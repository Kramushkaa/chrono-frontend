{"ast":null,"code":"import React,{createContext,useCallback,useContext,useMemo,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const ToastContext=/*#__PURE__*/createContext(undefined);export function ToastProvider(_ref){let{children}=_ref;const[toasts,setToasts]=useState([]);const[nextId,setNextId]=useState(1);const removeToast=useCallback(id=>{setToasts(list=>list.filter(t=>t.id!==id));},[]);const showToast=useCallback(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let durationMs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3000;setToasts(list=>{const id=nextId;setNextId(id+1);const toast={id,message,type};// schedule removal\nwindow.setTimeout(()=>removeToast(id),durationMs);return[...list,toast];});},[nextId,removeToast]);const value=useMemo(()=>({toasts,showToast,removeToast}),[toasts,showToast,removeToast]);return/*#__PURE__*/_jsx(ToastContext.Provider,{value:value,children:children});}export function useToast(){const ctx=useContext(ToastContext);if(!ctx)throw new Error('useToast must be used within ToastProvider');return ctx;}","map":{"version":3,"names":["React","createContext","useCallback","useContext","useMemo","useState","jsx","_jsx","ToastContext","undefined","ToastProvider","_ref","children","toasts","setToasts","nextId","setNextId","removeToast","id","list","filter","t","showToast","message","type","arguments","length","durationMs","toast","window","setTimeout","value","Provider","useToast","ctx","Error"],"sources":["C:/Users/Selecty/Documents/PetProjects/chronoline-frontend/src/context/ToastContext.tsx"],"sourcesContent":["import React, { createContext, useCallback, useContext, useMemo, useState } from 'react';\r\n\r\nexport type ToastType = 'success' | 'error' | 'info';\r\n\r\nexport type Toast = {\r\n  id: number;\r\n  message: string;\r\n  type: ToastType;\r\n};\r\n\r\ntype ToastContextValue = {\r\n  toasts: Toast[];\r\n  showToast: (message: string, type?: ToastType, durationMs?: number) => void;\r\n  removeToast: (id: number) => void;\r\n};\r\n\r\nconst ToastContext = createContext<ToastContextValue | undefined>(undefined);\r\n\r\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n  const [nextId, setNextId] = useState(1);\r\n\r\n  const removeToast = useCallback((id: number) => {\r\n    setToasts((list) => list.filter((t) => t.id !== id));\r\n  }, []);\r\n\r\n  const showToast = useCallback((message: string, type: ToastType = 'info', durationMs = 3000) => {\r\n    setToasts((list) => {\r\n      const id = nextId;\r\n      setNextId(id + 1);\r\n      const toast: Toast = { id, message, type };\r\n      // schedule removal\r\n      window.setTimeout(() => removeToast(id), durationMs);\r\n      return [...list, toast];\r\n    });\r\n  }, [nextId, removeToast]);\r\n\r\n  const value = useMemo<ToastContextValue>(() => ({ toasts, showToast, removeToast }), [toasts, showToast, removeToast]);\r\n\r\n  return (\r\n    <ToastContext.Provider value={value}>\r\n      {children}\r\n    </ToastContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useToast(): ToastContextValue {\r\n  const ctx = useContext(ToastContext);\r\n  if (!ctx) throw new Error('useToast must be used within ToastProvider');\r\n  return ctx;\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAgBzF,KAAM,CAAAC,YAAY,cAAGP,aAAa,CAAgCQ,SAAS,CAAC,CAE5E,MAAO,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAA8C,IAA7C,CAAEC,QAAwC,CAAC,CAAAD,IAAA,CACvE,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAU,EAAE,CAAC,CACjD,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CAEvC,KAAM,CAAAY,WAAW,CAAGf,WAAW,CAAEgB,EAAU,EAAK,CAC9CJ,SAAS,CAAEK,IAAI,EAAKA,IAAI,CAACC,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACH,EAAE,GAAKA,EAAE,CAAC,CAAC,CACtD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,SAAS,CAAGpB,WAAW,CAAC,SAACqB,OAAe,CAAkD,IAAhD,CAAAC,IAAe,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAhB,SAAA,CAAAgB,SAAA,IAAG,MAAM,IAAE,CAAAE,UAAU,CAAAF,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAhB,SAAA,CAAAgB,SAAA,IAAG,IAAI,CACzFX,SAAS,CAAEK,IAAI,EAAK,CAClB,KAAM,CAAAD,EAAE,CAAGH,MAAM,CACjBC,SAAS,CAACE,EAAE,CAAG,CAAC,CAAC,CACjB,KAAM,CAAAU,KAAY,CAAG,CAAEV,EAAE,CAAEK,OAAO,CAAEC,IAAK,CAAC,CAC1C;AACAK,MAAM,CAACC,UAAU,CAAC,IAAMb,WAAW,CAACC,EAAE,CAAC,CAAES,UAAU,CAAC,CACpD,MAAO,CAAC,GAAGR,IAAI,CAAES,KAAK,CAAC,CACzB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACb,MAAM,CAAEE,WAAW,CAAC,CAAC,CAEzB,KAAM,CAAAc,KAAK,CAAG3B,OAAO,CAAoB,KAAO,CAAES,MAAM,CAAES,SAAS,CAAEL,WAAY,CAAC,CAAC,CAAE,CAACJ,MAAM,CAAES,SAAS,CAAEL,WAAW,CAAC,CAAC,CAEtH,mBACEV,IAAA,CAACC,YAAY,CAACwB,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAnB,QAAA,CACjCA,QAAQ,CACY,CAAC,CAE5B,CAEA,MAAO,SAAS,CAAAqB,QAAQA,CAAA,CAAsB,CAC5C,KAAM,CAAAC,GAAG,CAAG/B,UAAU,CAACK,YAAY,CAAC,CACpC,GAAI,CAAC0B,GAAG,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CACvE,MAAO,CAAAD,GAAG,CACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}