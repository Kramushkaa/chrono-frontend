{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Selecty\\\\Documents\\\\PetProjects\\\\chronoline-frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { getPersons, getCategories, getCountries } from './services/api';\nimport { getCategoryColor, getCategoryColorDark, getCategoryColorMuted } from './utils/categoryColors';\nimport './App.css';\n\n// Компонент выпадающего фильтра\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterDropdown = ({\n  title,\n  items,\n  selectedItems,\n  onSelectionChange,\n  getItemColor,\n  icon\n}) => {\n  const isActive = selectedItems.length > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filter-dropdown\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: `filter-btn ${isActive ? 'active' : ''}`,\n      style: {\n        minWidth: '150px',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '0.5rem'\n      },\n      children: [icon, title, \" \", isActive && `(${selectedItems.length})`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-dropdown-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '0.5rem',\n          borderBottom: '1px solid rgba(139, 69, 19, 0.3)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onSelectionChange(items);\n          },\n          style: {\n            padding: '0.25rem 0.5rem',\n            marginRight: '0.5rem',\n            background: '#27ae60',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '0.7rem'\n          },\n          children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onSelectionChange([]);\n          },\n          style: {\n            padding: '0.25rem 0.5rem',\n            background: '#e74c3c',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '0.7rem'\n          },\n          children: \"\\u0421\\u043D\\u044F\\u0442\\u044C \\u0432\\u0441\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"filter-checkbox\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: selectedItems.includes(item),\n          onChange: e => {\n            e.stopPropagation();\n            if (e.target.checked) {\n              onSelectionChange([...selectedItems, item]);\n            } else {\n              onSelectionChange(selectedItems.filter(i => i !== item));\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: getItemColor ? getItemColor(item) : '#f4e4c1',\n            fontWeight: getItemColor ? 'bold' : 'normal'\n          },\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, item, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n\n// Компонент панели фильтров\n_c = FilterDropdown;\nconst FilterPanel = ({\n  filters,\n  setFilters,\n  allCategories,\n  allCountries\n}) => {\n  _s();\n  // Состояние для полей ввода годов\n  const [yearInputs, setYearInputs] = useState({\n    start: filters.timeRange.start.toString(),\n    end: filters.timeRange.end.toString()\n  });\n\n  // Функция для применения фильтра по году\n  const applyYearFilter = (field, value) => {\n    const numValue = parseInt(value) || (field === 'start' ? -800 : 2000);\n    setFilters(prev => ({\n      ...prev,\n      timeRange: {\n        ...prev.timeRange,\n        [field]: numValue\n      }\n    }));\n  };\n\n  // Функция для обработки нажатия Enter\n  const handleYearKeyPress = (field, e) => {\n    if (e.key === 'Enter') {\n      var _e$currentTarget$pare, _e$currentTarget$pare2;\n      applyYearFilter(field, e.currentTarget.value);\n      // Переводим фокус на следующий элемент\n      const inputs = (_e$currentTarget$pare = e.currentTarget.parentElement) === null || _e$currentTarget$pare === void 0 ? void 0 : (_e$currentTarget$pare2 = _e$currentTarget$pare.parentElement) === null || _e$currentTarget$pare2 === void 0 ? void 0 : _e$currentTarget$pare2.querySelectorAll('input');\n      if (inputs) {\n        const currentIndex = Array.from(inputs).indexOf(e.currentTarget);\n        const nextInput = inputs[currentIndex + 1];\n        if (nextInput) {\n          nextInput.focus();\n        }\n      }\n    }\n  };\n\n  // Функция для сброса всех фильтров\n  const resetAllFilters = () => {\n    setFilters({\n      categories: [],\n      countries: [],\n      timeRange: {\n        start: -800,\n        end: 2000\n      },\n      showAchievements: true\n    });\n    setYearInputs({\n      start: '-800',\n      end: '2000'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filters-panel\",\n    style: {\n      background: 'none',\n      border: 'none',\n      boxShadow: 'none',\n      padding: 0,\n      display: 'flex',\n      gap: '1rem',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      marginLeft: 'auto',\n      zIndex: 10001\n    },\n    children: [/*#__PURE__*/_jsxDEV(FilterDropdown, {\n      title: \"\\u0420\\u043E\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",\n      items: allCategories,\n      selectedItems: filters.categories,\n      onSelectionChange: categories => setFilters(prev => ({\n        ...prev,\n        categories\n      })),\n      getItemColor: getCategoryColor,\n      icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterDropdown, {\n      title: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0441\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\",\n      items: allCountries,\n      selectedItems: filters.countries,\n      onSelectionChange: countries => setFilters(prev => ({\n        ...prev,\n        countries\n      })),\n      icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '0.5rem',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontSize: '0.8rem',\n            display: 'block',\n            marginBottom: '0.25rem',\n            color: '#f4e4c1'\n          },\n          children: \"\\u041E\\u0442:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: yearInputs.start,\n          onChange: e => setYearInputs(prev => ({\n            ...prev,\n            start: e.target.value\n          })),\n          onBlur: e => applyYearFilter('start', e.target.value),\n          onKeyPress: e => handleYearKeyPress('start', e),\n          style: {\n            width: '80px',\n            padding: '0.5rem',\n            border: '2px solid #8b4513',\n            borderRadius: '4px',\n            background: 'rgba(44, 24, 16, 0.8)',\n            color: '#f4e4c1',\n            fontSize: '0.8rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontSize: '0.8rem',\n            display: 'block',\n            marginBottom: '0.25rem',\n            color: '#f4e4c1'\n          },\n          children: \"\\u0414\\u043E:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: yearInputs.end,\n          onChange: e => setYearInputs(prev => ({\n            ...prev,\n            end: e.target.value\n          })),\n          onBlur: e => applyYearFilter('end', e.target.value),\n          onKeyPress: e => handleYearKeyPress('end', e),\n          style: {\n            width: '80px',\n            padding: '0.5rem',\n            border: '2px solid #8b4513',\n            borderRadius: '4px',\n            background: 'rgba(44, 24, 16, 0.8)',\n            color: '#f4e4c1',\n            fontSize: '0.8rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetAllFilters,\n        className: \"filter-btn\",\n        style: {\n          background: 'linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%)',\n          fontSize: '0.8rem',\n          padding: '0.5rem 1rem'\n        },\n        children: \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          padding: '0.5rem',\n          borderRadius: '4px',\n          background: filters.showAchievements ? 'rgba(255, 255, 255, 0.1)' : 'rgba(255, 255, 255, 0.05)',\n          border: `1px solid ${filters.showAchievements ? 'rgba(255, 255, 255, 0.3)' : 'rgba(255, 255, 255, 0.1)'}`,\n          transition: 'all 0.2s ease'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontSize: '0.8rem',\n            color: '#f4e4c1',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            cursor: 'pointer',\n            margin: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: filters.showAchievements,\n            onChange: e => setFilters(prev => ({\n              ...prev,\n              showAchievements: e.target.checked\n            })),\n            style: {\n              width: '16px',\n              height: '16px',\n              cursor: 'pointer',\n              accentColor: '#f4e4c1'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"14\",\n            height: \"14\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            style: {\n              opacity: filters.showAchievements ? 1 : 0.5\n            },\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u041C\\u0430\\u0440\\u043A\\u0435\\u0440\\u044B \\u0434\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterPanel, \"Auz+wZzEkKzGUpNJmzdf21hjyk4=\");\n_c2 = FilterPanel;\nfunction App() {\n  _s2();\n  const [hoveredPerson, setHoveredPerson] = useState(null);\n  const [mousePosition, setMousePosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [hoveredAchievement, setHoveredAchievement] = useState(null);\n  const [achievementTooltipPosition, setAchievementTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [showAchievementTooltip, setShowAchievementTooltip] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [activeAchievementMarker, setActiveAchievementMarker] = useState(null);\n  const hoverTimerRef = useRef(null);\n  const [filters, setFilters] = useState(() => {\n    const savedFilters = localStorage.getItem('chronoline-filters');\n    if (savedFilters) {\n      const parsed = JSON.parse(savedFilters);\n      return {\n        categories: parsed.categories || [],\n        countries: parsed.countries || [],\n        timeRange: parsed.timeRange || {\n          start: -800,\n          end: 2000\n        },\n        showAchievements: parsed.showAchievements !== undefined ? parsed.showAchievements : true\n      };\n    }\n    return {\n      categories: [],\n      countries: [],\n      timeRange: {\n        start: -800,\n        end: 2000\n      },\n      showAchievements: true\n    };\n  });\n\n  // Сохраняем фильтры в localStorage при изменении\n  useEffect(() => {\n    localStorage.setItem('chronoline-filters', JSON.stringify(filters));\n  }, [filters]);\n\n  // Очищаем таймер при размонтировании компонента\n  useEffect(() => {\n    return () => {\n      if (hoverTimerRef.current) {\n        clearTimeout(hoverTimerRef.current);\n      }\n    };\n  }, []);\n  const [persons, setPersons] = useState([]);\n  const [allCategories, setAllCategories] = useState([]);\n  const [allCountries, setAllCountries] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Единый useEffect для загрузки и фильтрации данных\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n\n        // Формируем параметры для запроса\n        const filtersToApply = {};\n        if (filters.categories.length > 0) {\n          filtersToApply.category = filters.categories.join(',');\n        }\n        if (filters.countries.length > 0) {\n          filtersToApply.country = filters.countries.join(',');\n        }\n        filtersToApply.startYear = filters.timeRange.start;\n        filtersToApply.endYear = filters.timeRange.end;\n\n        // Загружаем персон с учетом фильтров\n        const personsData = await getPersons(filtersToApply);\n        setPersons(personsData);\n\n        // Загружаем категории и страны только если они еще не загружены\n        if (allCategories.length === 0 || allCountries.length === 0) {\n          const [categoriesData, countriesData] = await Promise.all([getCategories(), getCountries()]);\n          setAllCategories(categoriesData);\n          setAllCountries(countriesData);\n        }\n      } catch (error) {\n        console.error(\"Ошибка при загрузке данных:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [filters, allCategories.length, allCountries.length]); // Перезагружаем данные при изменении фильтров\n\n  // Функция для получения приоритета категории\n  const getCategoryPriority = category => {\n    // Используем все категории из API, а не только жестко заданные\n    return allCategories.indexOf(category);\n  };\n\n  // Функция фильтрации данных (теперь данные фильтруются на бэкенде, но сортировка остается)\n  const sortedData = [...persons].sort((a, b) => {\n    // Сначала сортируем по категориям\n    const categoryDiff = getCategoryPriority(a.category) - getCategoryPriority(b.category);\n    if (categoryDiff !== 0) {\n      return categoryDiff;\n    }\n    // Затем по году рождения\n    return a.birthYear - b.birthYear;\n  });\n\n  // Отслеживаем скролл\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      setIsScrolled(scrollTop > 50);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Вычисляем реальный диапазон лет из отфильтрованных данных\n  const minYear = Math.min(...sortedData.map(p => p.birthYear), filters.timeRange.start);\n  const maxYear = Math.max(...sortedData.map(p => p.deathYear), filters.timeRange.end);\n  const totalYears = maxYear - minYear;\n\n  // Настройки масштаба\n  const pixelsPerYear = 3; // 3 пикселя на год\n  const LEFT_PADDING_PX = 30; // отступ слева, чтобы крайняя левая подпись не упиралась в край\n  const timelineWidth = totalYears * pixelsPerYear + LEFT_PADDING_PX;\n\n  // Функция для вычисления позиции в пикселях\n  const getPosition = year => {\n    return LEFT_PADDING_PX + (year - minYear) * pixelsPerYear;\n  };\n\n  // Функция для вычисления ширины полоски в пикселях\n  const getWidth = (birthYear, deathYear) => {\n    return (deathYear - birthYear) * pixelsPerYear;\n  };\n\n  // Генерируем границы веков\n  const generateCenturyBoundaries = () => {\n    const boundaries = [];\n    const startCentury = Math.floor(minYear / 100) * 100;\n    const endCentury = Math.ceil(maxYear / 100) * 100;\n    for (let year = startCentury; year <= endCentury; year += 100) {\n      // Включаем границу, если она попадает в диапазон данных или является границей века\n      if (year <= maxYear) {\n        boundaries.push(year);\n      }\n    }\n    return boundaries;\n  };\n  const centuryBoundaries = generateCenturyBoundaries();\n\n  // Функция для получения цвета века\n  const getCenturyColor = year => {\n    const colors = ['rgba(255, 107, 107, 0.1)',\n    // Светло-красный\n    'rgba(78, 205, 196, 0.1)',\n    // Светло-голубой\n    'rgba(150, 206, 180, 0.1)',\n    // Светло-зеленый\n    'rgba(255, 234, 167, 0.1)',\n    // Светло-оранжевый\n    'rgba(221, 160, 221, 0.1)',\n    // Светло-фиолетовый\n    'rgba(120, 219, 255, 0.1)',\n    // Светло-бирюзовый\n    'rgba(255, 255, 229, 0.1)',\n    // Светло-желтый\n    'rgba(255, 229, 240, 0.1)' // Светло-розовый\n    ];\n    const centuryIndex = Math.floor((year - minYear) / 100);\n    return colors[centuryIndex % colors.length];\n  };\n\n  // Функция для конвертации в римские цифры\n  const toRomanNumeral = num => {\n    const romanNumerals = [{\n      value: 1000,\n      numeral: 'M'\n    }, {\n      value: 900,\n      numeral: 'CM'\n    }, {\n      value: 500,\n      numeral: 'D'\n    }, {\n      value: 400,\n      numeral: 'CD'\n    }, {\n      value: 100,\n      numeral: 'C'\n    }, {\n      value: 90,\n      numeral: 'XC'\n    }, {\n      value: 50,\n      numeral: 'L'\n    }, {\n      value: 40,\n      numeral: 'XL'\n    }, {\n      value: 10,\n      numeral: 'X'\n    }, {\n      value: 9,\n      numeral: 'IX'\n    }, {\n      value: 5,\n      numeral: 'V'\n    }, {\n      value: 4,\n      numeral: 'IV'\n    }, {\n      value: 1,\n      numeral: 'I'\n    }];\n    let result = '';\n    let remaining = Math.abs(num);\n    for (const {\n      value,\n      numeral\n    } of romanNumerals) {\n      while (remaining >= value) {\n        result += numeral;\n        remaining -= value;\n      }\n    }\n    return num < 0 ? `-${result}` : result;\n  };\n\n  // Функция для получения номера века\n  const getCenturyNumber = year => {\n    if (year < 0) {\n      // Для отрицательных лет: -1 до -100 = 1 век до н.э., -101 до -200 = 2 век до н.э.\n      return Math.floor((Math.abs(year) - 1) / 100) + 1;\n    } else if (year === 0) {\n      // Год 0 не существует в исторической хронологии\n      return 1;\n    } else {\n      // Для положительных лет: 1-100 = 1 век, 101-200 = 2 век и т.д.\n      return Math.floor((year - 1) / 100) + 1;\n    }\n  };\n\n  // Алгоритм размещения полосок на строках с полной группировкой по категориям\n  const calculateRowPlacement = people => {\n    const rows = [];\n    const categoryGroups = {};\n\n    // Группируем людей по категориям\n    people.forEach(person => {\n      if (!categoryGroups[person.category]) {\n        categoryGroups[person.category] = [];\n      }\n      categoryGroups[person.category].push(person);\n    });\n\n    // Обрабатываем каждую категорию в заданном порядке\n    allCategories.forEach(category => {\n      if (categoryGroups[category]) {\n        const categoryPeople = categoryGroups[category];\n        const categoryRows = [];\n\n        // Размещаем людей данной категории в отдельные строки\n        categoryPeople.forEach(person => {\n          let placed = false;\n\n          // Проверяем каждую существующую строку для этой категории\n          for (let rowIndex = 0; rowIndex < categoryRows.length; rowIndex++) {\n            const row = categoryRows[rowIndex];\n            let canPlaceInRow = true;\n\n            // Проверяем, не пересекается ли с кем-то в этой строке\n            for (const existingPerson of row) {\n              const BUFFER = 20; // минимальный зазор между персонами\n              if (person.birthYear - BUFFER <= existingPerson.deathYear && person.deathYear + BUFFER >= existingPerson.birthYear) {\n                canPlaceInRow = false;\n                break;\n              }\n            }\n\n            // Если можно разместить в этой строке\n            if (canPlaceInRow) {\n              categoryRows[rowIndex].push(person);\n              placed = true;\n              break;\n            }\n          }\n\n          // Если не удалось разместить в существующих строках, создаем новую\n          if (!placed) {\n            categoryRows.push([person]);\n          }\n        });\n\n        // Добавляем строки данной категории к общему списку\n        rows.push(...categoryRows);\n\n        // Добавляем пустую строку для визуального разделения (кроме последней категории)\n        if (category !== allCategories[allCategories.length - 1]) {\n          rows.push([]);\n        }\n      }\n    });\n    return rows;\n  };\n\n  // Получаем размещение по строкам\n  const rowPlacement = calculateRowPlacement(sortedData);\n\n  // Вычисляем общую высоту с учетом пустых строк\n  const totalHeight = rowPlacement.reduce((height, row) => {\n    return height + (row.length === 0 ? 20 : 70); // 20px для пустых строк, 70px для обычных (60px + 10px margin)\n  }, 0);\n\n  // Функция для создания разделителей категорий\n  // Высота строки и отступ вниз для непустой строки\n  const ROW_HEIGHT = 60;\n  const ROW_MARGIN = 10; // margin-bottom, используется только для непустых строк\n  const EMPTY_ROW_HEIGHT = 20;\n\n  // Подсчитываем абсолютный top каждой строки, чтобы точно позиционировать разделители\n  const rowTops = [];\n  (() => {\n    let acc = 0;\n    rowPlacement.forEach(row => {\n      rowTops.push(acc);\n      if (row.length === 0) {\n        acc += EMPTY_ROW_HEIGHT;\n      } else {\n        acc += ROW_HEIGHT + ROW_MARGIN;\n      }\n    });\n  })();\n  const createCategoryDividers = () => {\n    const dividers = [];\n    let currentCategory = '';\n    rowPlacement.forEach((row, rowIndex) => {\n      if (row.length > 0) {\n        const firstPersonInRow = row[0];\n        if (firstPersonInRow.category !== currentCategory) {\n          if (currentCategory !== '') {\n            // закрываем предыдущую категорию\n            dividers.push({\n              category: currentCategory,\n              top: rowTops[rowIndex] - 5\n            });\n          }\n          currentCategory = firstPersonInRow.category;\n        }\n      }\n    });\n\n    // Добавляем разделитель для последней категории\n    if (currentCategory !== '') {\n      dividers.push({\n        category: currentCategory,\n        top: rowTops[rowPlacement.length - 1] - 5\n      });\n    }\n    return dividers;\n  };\n  const categoryDividers = createCategoryDividers();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: `app-header ${isScrolled ? 'scrolled' : ''}`,\n      style: {\n        padding: isScrolled ? '0.5rem 1.5rem' : '1rem 1.5rem',\n        transition: 'all 0.3s ease'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-start',\n          justifyContent: 'space-between',\n          flexWrap: 'wrap',\n          gap: '1.5rem',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontSize: isScrolled ? '1.5rem' : '2rem',\n              margin: 0,\n              transition: 'font-size 0.3s ease'\n            },\n            children: \"Chronoline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 13\n          }, this), !isScrolled && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.9rem',\n              opacity: 0.8,\n              margin: '0.25rem 0 0 0',\n              transition: 'opacity 0.3s ease'\n            },\n            children: \"\\u0412\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u044B\\u0435 \\u043B\\u0438\\u043D\\u0438\\u0438 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0445 \\u043B\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u0435\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FilterPanel, {\n          filters: filters,\n          setFilters: setFilters,\n          allCategories: allCategories,\n          allCountries: allCountries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-overlay\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timeline-container\",\n        style: {\n          position: 'relative',\n          height: 'calc(100vh - 140px)',\n          overflow: 'auto',\n          padding: '1rem 0 2rem 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 1\n          },\n          children: centuryBoundaries.map((year, index) => {\n            const nextYear = centuryBoundaries[index + 1] || year + 100;\n            const startPos = getPosition(year);\n            const endPos = getPosition(nextYear);\n            const width = endPos - startPos;\n\n            // Вычисляем век на основе центра года в столетии\n            const centerYear = year + 50;\n            const centuryNumber = getCenturyNumber(centerYear);\n            // Для отрицательных веков добавляем знак минус\n            const isNegativeCentury = year < 0;\n            const romanNumeral = isNegativeCentury ? `-${toRomanNumeral(Math.abs(centuryNumber))}` : toRomanNumeral(centuryNumber);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'absolute',\n                left: `${startPos}px`,\n                width: `${width}px`,\n                height: '100%',\n                background: getCenturyColor(year),\n                opacity: 0.3,\n                zIndex: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"century-label\",\n                style: {\n                  position: 'absolute',\n                  top: '50%',\n                  left: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  fontSize: '2rem',\n                  fontWeight: 'bold',\n                  color: 'rgba(244, 228, 193, 0.6)',\n                  textShadow: '2px 2px 4px rgba(0, 0, 0, 0.8)',\n                  pointerEvents: 'none',\n                  zIndex: 2,\n                  fontFamily: 'serif'\n                },\n                children: romanNumeral\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this)\n            }, `century-bg-${year}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 5\n          },\n          children: centuryBoundaries.map(year => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              left: `${getPosition(year)}px`,\n              width: '2px',\n              height: '100%',\n              background: 'linear-gradient(to bottom, #cd853f 0%, #cd853f 20%, rgba(205, 133, 63, 0.3) 100%)',\n              zIndex: 5\n            }\n          }, `century-line-${year}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 8\n          },\n          children: categoryDividers.map(divider => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: `${divider.top}px`,\n              left: '0',\n              width: '100%',\n              height: '10px',\n              background: `linear-gradient(to right, transparent 0%, ${getCategoryColor(divider.category)} 20%, ${getCategoryColor(divider.category)} 80%, transparent 100%)`,\n              opacity: 0.6,\n              zIndex: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-label\",\n              style: {\n                position: 'absolute',\n                left: '20px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                background: getCategoryColor(divider.category),\n                color: 'white',\n                padding: '2px 8px',\n                borderRadius: '4px',\n                fontSize: '0.7rem',\n                fontWeight: 'bold',\n                whiteSpace: 'nowrap',\n                zIndex: 9\n              },\n              children: divider.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 17\n            }, this)\n          }, `category-divider-${divider.category}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 60}px`,\n            zIndex: 10\n          },\n          children: rowPlacement.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative',\n              height: row.length === 0 ? '20px' : '60px',\n              marginBottom: row.length === 0 ? '0px' : '10px'\n            },\n            children: row.map(person => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  position: 'absolute',\n                  left: `${getPosition(person.birthYear)}px`,\n                  top: 0,\n                  fontSize: '11px',\n                  color: 'rgba(244, 228, 193, 0.6)',\n                  fontStyle: 'italic',\n                  fontWeight: 400,\n                  transform: 'translateX(-100%) translateY(-10px)'\n                },\n                children: person.birthYear\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 21\n              }, this), person.reignStart && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"reign-label\",\n                style: {\n                  position: 'absolute',\n                  left: `${getPosition(person.reignStart)}px`,\n                  top: 0,\n                  fontSize: '11px',\n                  color: '#E57373',\n                  // Темно-красный\n                  fontStyle: 'italic',\n                  fontWeight: 'bold',\n                  transform: 'translateX(-100%) translateY(-22px)'\n                },\n                children: [\"\\uD83D\\uDC51 \", person.reignStart]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 23\n              }, this), person.reignEnd && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"reign-label\",\n                style: {\n                  position: 'absolute',\n                  left: `${getPosition(person.reignEnd)}px`,\n                  top: 0,\n                  fontSize: '11px',\n                  color: '#E57373',\n                  // Темно-красный\n                  fontStyle: 'italic',\n                  fontWeight: 'bold',\n                  transform: 'translateY(-22px)'\n                },\n                children: person.reignEnd\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  position: 'absolute',\n                  left: `${getPosition(person.deathYear)}px`,\n                  top: 0,\n                  fontSize: '11px',\n                  color: 'rgba(244, 228, 193, 0.6)',\n                  fontStyle: 'italic',\n                  fontWeight: 400,\n                  transform: 'translateY(-10px)'\n                },\n                children: person.deathYear\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 21\n              }, this), filters.showAchievements && [person.achievementYear1, person.achievementYear2, person.achievementYear3].filter(year => year !== undefined && year !== null).map((year, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    position: 'absolute',\n                    left: `${getPosition(year)}px`,\n                    top: '-4px',\n                    width: '2px',\n                    height: '15px',\n                    backgroundColor: getCategoryColorDark(person.category),\n                    zIndex: (activeAchievementMarker === null || activeAchievementMarker === void 0 ? void 0 : activeAchievementMarker.personId) === person.id && (activeAchievementMarker === null || activeAchievementMarker === void 0 ? void 0 : activeAchievementMarker.index) === index ? 10 : 3,\n                    transform: 'translateX(-50%)',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease'\n                  },\n                  onMouseEnter: e => {\n                    e.currentTarget.style.backgroundColor = getCategoryColor(person.category);\n                    e.currentTarget.style.boxShadow = `0 0 3px ${getCategoryColor(person.category)}`;\n                    // Находим span внутри и обновляем его стили\n                    const span = e.currentTarget.querySelector('span');\n                    if (span) {\n                      span.style.backgroundColor = 'rgba(44, 24, 16, 0.95)';\n                      span.style.borderColor = getCategoryColor(person.category);\n                      span.style.color = getCategoryColor(person.category);\n                      span.style.fontSize = '9px';\n                      span.style.padding = '2px 4px';\n                      span.style.borderRadius = '3px';\n                    }\n\n                    // Устанавливаем активный маркер\n                    setActiveAchievementMarker({\n                      personId: person.id,\n                      index\n                    });\n\n                    // Очищаем предыдущий таймер если он есть\n                    if (hoverTimerRef.current) {\n                      clearTimeout(hoverTimerRef.current);\n                    }\n\n                    // Запускаем таймер для показа tooltip\n                    hoverTimerRef.current = setTimeout(() => {\n                      setHoveredAchievement({\n                        person,\n                        year: year,\n                        index\n                      });\n                      setAchievementTooltipPosition({\n                        x: e.clientX,\n                        y: e.clientY\n                      });\n                      setShowAchievementTooltip(true);\n                    }, 500);\n                  },\n                  onMouseLeave: e => {\n                    e.currentTarget.style.backgroundColor = getCategoryColorDark(person.category);\n                    e.currentTarget.style.boxShadow = 'none';\n                    // Возвращаем стили span к исходным\n                    const span = e.currentTarget.querySelector('span');\n                    if (span) {\n                      span.style.backgroundColor = 'rgba(44, 24, 16, 0.9)';\n                      span.style.borderColor = getCategoryColorDark(person.category);\n                      span.style.color = getCategoryColorDark(person.category);\n                      span.style.fontSize = '8px';\n                      span.style.padding = '1px 3px';\n                      span.style.borderRadius = '2px';\n                    }\n\n                    // Сбрасываем активный маркер\n                    setActiveAchievementMarker(null);\n\n                    // Очищаем таймер и скрываем tooltip\n                    if (hoverTimerRef.current) {\n                      clearTimeout(hoverTimerRef.current);\n                      hoverTimerRef.current = null;\n                    }\n                    setShowAchievementTooltip(false);\n                    setHoveredAchievement(null);\n                  },\n                  onMouseMove: e => {\n                    setAchievementTooltipPosition({\n                      x: e.clientX,\n                      y: e.clientY\n                    });\n                  },\n                  onMouseOut: e => {\n                    // Дополнительная проверка на случай, если onMouseLeave не сработал\n                    if (!e.currentTarget.contains(e.relatedTarget)) {\n                      setActiveAchievementMarker(null);\n                      if (hoverTimerRef.current) {\n                        clearTimeout(hoverTimerRef.current);\n                        hoverTimerRef.current = null;\n                      }\n                      setShowAchievementTooltip(false);\n                      setHoveredAchievement(null);\n                    }\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      position: 'absolute',\n                      top: '-12px',\n                      left: '50%',\n                      transform: 'translateX(-50%)',\n                      fontSize: '8px',\n                      color: getCategoryColorDark(person.category),\n                      fontWeight: 'bold',\n                      whiteSpace: 'nowrap',\n                      backgroundColor: 'rgba(44, 24, 16, 0.9)',\n                      padding: '1px 3px',\n                      borderRadius: '2px',\n                      border: `1px solid ${getCategoryColorDark(person.category)}`,\n                      transition: 'all 0.2s ease'\n                    },\n                    children: year\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 967,\n                    columnNumber: 29\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 885,\n                  columnNumber: 27\n                }, this);\n              }), person.reignStart && person.reignEnd && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: '-15px',\n                  left: `${getPosition(person.reignStart)}px`,\n                  width: `${getWidth(person.reignStart, person.reignEnd)}px`,\n                  height: '65px',\n                  backgroundColor: 'rgba(211, 47, 47, 0.25)',\n                  pointerEvents: 'none',\n                  borderLeft: '2px solid #D32F2F',\n                  borderRight: '2px solid #D32F2F',\n                  borderRadius: '3px',\n                  zIndex: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"life-bar\",\n                style: {\n                  position: 'absolute',\n                  top: '10px',\n                  left: `${getPosition(person.birthYear)}px`,\n                  width: `${getWidth(person.birthYear, person.deathYear)}px`,\n                  height: '40px',\n                  background: `linear-gradient(135deg, ${getCategoryColorMuted(person.category)} 0%, #6a5a3a 100%)`,\n                  borderRadius: '6px',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  padding: '0 12px',\n                  color: 'white',\n                  fontSize: '14px',\n                  fontWeight: 'bold',\n                  minWidth: '60px',\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\n                  border: '1.5px solid #a8926a',\n                  opacity: 1,\n                  zIndex: 5\n                },\n                onMouseEnter: e => {\n                  e.currentTarget.style.transform = 'translateY(-3px) scale(1.02)';\n                  e.currentTarget.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.4)';\n                  e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.4)';\n                  setHoveredPerson(person);\n                  setMousePosition({\n                    x: e.clientX,\n                    y: e.clientY\n                  });\n                  setTimeout(() => setShowTooltip(true), 300);\n                },\n                onMouseLeave: e => {\n                  e.currentTarget.style.transform = 'translateY(0) scale(1)';\n                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)';\n                  e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.2)';\n                  setHoveredPerson(null);\n                  setShowTooltip(false);\n                },\n                onMouseMove: e => {\n                  setMousePosition({\n                    x: e.clientX,\n                    y: e.clientY\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    lineHeight: '1.2'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: person.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1048,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 21\n              }, this)]\n            }, person.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 19\n            }, this))\n          }, rowIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 7\n    }, this), hoveredPerson && showTooltip && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tooltip\",\n      style: {\n        position: 'fixed',\n        left: `${mousePosition.x + 15}px`,\n        top: `${mousePosition.y - 10}px`,\n        padding: '1rem',\n        zIndex: 1000,\n        maxWidth: '300px',\n        minWidth: '250px',\n        color: '#f4e4c1',\n        pointerEvents: 'none',\n        opacity: 0,\n        transform: 'translateY(10px) scale(0.95)',\n        animation: 'tooltipFadeIn 0.2s ease-out forwards'\n      },\n      children: [hoveredPerson.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '0.75rem',\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: hoveredPerson.imageUrl,\n          alt: hoveredPerson.name,\n          style: {\n            width: '80px',\n            height: '80px',\n            borderRadius: '50%',\n            objectFit: 'cover',\n            border: `2px solid ${getCategoryColor(hoveredPerson.category)}`,\n            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.3)'\n          },\n          onError: e => {\n            // Скрываем изображение если оно не загрузилось\n            e.currentTarget.style.display = 'none';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '0 0 0.5rem 0',\n          color: getCategoryColor(hoveredPerson.category),\n          fontSize: '1.1rem',\n          fontWeight: 'bold'\n        },\n        children: hoveredPerson.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '0.85rem',\n          lineHeight: '1.4'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0.25rem 0',\n            fontWeight: 'bold'\n          },\n          children: [hoveredPerson.birthYear, \" - \", hoveredPerson.deathYear]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0.25rem 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: getCategoryColor(hoveredPerson.category),\n              fontWeight: 'bold'\n            },\n            children: hoveredPerson.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 15\n          }, this), \" \\u2022 \", hoveredPerson.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0.5rem 0',\n            fontStyle: 'italic',\n            opacity: 0.8\n          },\n          children: hoveredPerson.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1118,\n          columnNumber: 13\n        }, this), filters.showAchievements && [hoveredPerson.achievementYear1, hoveredPerson.achievementYear2, hoveredPerson.achievementYear3].filter(year => year !== undefined && year !== null).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '0.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              fontSize: '0.8rem',\n              color: getCategoryColor(hoveredPerson.category)\n            },\n            children: \"\\uD83C\\uDFAF \\u041A\\u043B\\u044E\\u0447\\u0435\\u0432\\u044B\\u0435 \\u0434\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1126,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: '0.25rem 0 0 0',\n              fontSize: '0.8rem'\n            },\n            children: [hoveredPerson.achievementYear1, hoveredPerson.achievementYear2, hoveredPerson.achievementYear3].filter(year => year !== undefined && year !== null).map((year, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '0.1rem',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: getCategoryColor(hoveredPerson.category),\n                  fontWeight: 'bold',\n                  fontSize: '0.75rem'\n                },\n                children: year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1142,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '0.75rem'\n                },\n                children: hoveredPerson.achievements[index] || 'Ключевое достижение'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1149,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1125,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1061,\n      columnNumber: 9\n    }, this), hoveredAchievement && showAchievementTooltip && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"achievement-tooltip\",\n      style: {\n        position: 'fixed',\n        left: `${achievementTooltipPosition.x + 15}px`,\n        top: `${achievementTooltipPosition.y - 10}px`,\n        padding: '0.75rem',\n        zIndex: 1001,\n        maxWidth: '250px',\n        minWidth: '200px',\n        color: '#f4e4c1',\n        pointerEvents: 'none',\n        opacity: 0,\n        transform: 'translateY(10px) scale(0.95)',\n        animation: 'tooltipFadeIn 0.2s ease-out forwards',\n        backgroundColor: 'rgba(44, 24, 16, 0.95)',\n        borderRadius: '6px',\n        border: `2px solid ${getCategoryColor(hoveredAchievement.person.category)}`,\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '0.85rem',\n          lineHeight: '1.4'\n        },\n        children: [hoveredAchievement.person.imageUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '0.5rem',\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: hoveredAchievement.person.imageUrl,\n            alt: hoveredAchievement.person.name,\n            style: {\n              width: '50px',\n              height: '50px',\n              borderRadius: '50%',\n              objectFit: 'cover',\n              border: `2px solid ${getCategoryColor(hoveredAchievement.person.category)}`,\n              boxShadow: '0 2px 6px rgba(0, 0, 0, 0.3)'\n            },\n            onError: e => {\n              // Скрываем изображение если оно не загрузилось\n              e.currentTarget.style.display = 'none';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1186,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            margin: '0 0 0.5rem 0',\n            color: getCategoryColor(hoveredAchievement.person.category),\n            fontSize: '1rem',\n            fontWeight: 'bold'\n          },\n          children: hoveredAchievement.person.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0.25rem 0',\n            fontWeight: 'bold',\n            color: getCategoryColor(hoveredAchievement.person.category),\n            fontSize: '0.9rem'\n          },\n          children: [\"\\uD83C\\uDFAF \", hoveredAchievement.year]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0.25rem 0',\n            fontSize: '0.8rem',\n            fontStyle: 'italic'\n          },\n          children: hoveredAchievement.person.achievements[hoveredAchievement.index] || 'Ключевое достижение'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1227,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1183,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 638,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"MJB2aTAWUBTCvO6tyHjQ17ZwS5Y=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"FilterDropdown\");\n$RefreshReg$(_c2, \"FilterPanel\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","getPersons","getCategories","getCountries","getCategoryColor","getCategoryColorDark","getCategoryColorMuted","jsxDEV","_jsxDEV","FilterDropdown","title","items","selectedItems","onSelectionChange","getItemColor","icon","isActive","length","className","children","style","minWidth","display","alignItems","gap","fileName","_jsxFileName","lineNumber","columnNumber","padding","borderBottom","onClick","e","stopPropagation","marginRight","background","color","border","borderRadius","cursor","fontSize","map","item","type","checked","includes","onChange","target","filter","i","fontWeight","_c","FilterPanel","filters","setFilters","allCategories","allCountries","_s","yearInputs","setYearInputs","start","timeRange","toString","end","applyYearFilter","field","value","numValue","parseInt","prev","handleYearKeyPress","key","_e$currentTarget$pare","_e$currentTarget$pare2","currentTarget","inputs","parentElement","querySelectorAll","currentIndex","Array","from","indexOf","nextInput","focus","resetAllFilters","categories","countries","showAchievements","boxShadow","flexWrap","marginLeft","zIndex","width","height","viewBox","fill","d","marginBottom","onBlur","onKeyPress","transition","margin","accentColor","opacity","_c2","App","_s2","hoveredPerson","setHoveredPerson","mousePosition","setMousePosition","x","y","showTooltip","setShowTooltip","hoveredAchievement","setHoveredAchievement","achievementTooltipPosition","setAchievementTooltipPosition","showAchievementTooltip","setShowAchievementTooltip","isScrolled","setIsScrolled","activeAchievementMarker","setActiveAchievementMarker","hoverTimerRef","savedFilters","localStorage","getItem","parsed","JSON","parse","undefined","setItem","stringify","current","clearTimeout","persons","setPersons","setAllCategories","setAllCountries","isLoading","setIsLoading","fetchData","filtersToApply","category","join","country","startYear","endYear","personsData","categoriesData","countriesData","Promise","all","error","console","getCategoryPriority","sortedData","sort","a","b","categoryDiff","birthYear","handleScroll","scrollTop","window","pageYOffset","document","documentElement","addEventListener","removeEventListener","minYear","Math","min","p","maxYear","max","deathYear","totalYears","pixelsPerYear","LEFT_PADDING_PX","timelineWidth","getPosition","year","getWidth","generateCenturyBoundaries","boundaries","startCentury","floor","endCentury","ceil","push","centuryBoundaries","getCenturyColor","colors","centuryIndex","toRomanNumeral","num","romanNumerals","numeral","result","remaining","abs","getCenturyNumber","calculateRowPlacement","people","rows","categoryGroups","forEach","person","categoryPeople","categoryRows","placed","rowIndex","row","canPlaceInRow","existingPerson","BUFFER","rowPlacement","totalHeight","reduce","ROW_HEIGHT","ROW_MARGIN","EMPTY_ROW_HEIGHT","rowTops","acc","createCategoryDividers","dividers","currentCategory","firstPersonInRow","top","categoryDividers","justifyContent","position","overflow","left","pointerEvents","index","nextYear","startPos","endPos","centerYear","centuryNumber","isNegativeCentury","romanNumeral","transform","textShadow","fontFamily","divider","whiteSpace","Fragment","fontStyle","reignStart","reignEnd","achievementYear1","achievementYear2","achievementYear3","backgroundColor","personId","id","onMouseEnter","span","querySelector","borderColor","setTimeout","clientX","clientY","onMouseLeave","onMouseMove","onMouseOut","contains","relatedTarget","borderLeft","borderRight","flexDirection","lineHeight","name","maxWidth","animation","imageUrl","textAlign","src","alt","objectFit","onError","description","marginTop","achievements","_c3","$RefreshReg$"],"sources":["C:/Users/Selecty/Documents/PetProjects/chronoline-frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Person } from './types'\nimport { getPersons, getCategories, getCountries } from './services/api'\nimport { getCategoryColor, getCategoryColorDark, getCategoryColorMuted } from './utils/categoryColors'\nimport './App.css'\n\n// Компонент выпадающего фильтра\nconst FilterDropdown = ({ \n  title, \n  items, \n  selectedItems, \n  onSelectionChange, \n  getItemColor,\n  icon\n}: {\n  title: string\n  items: string[]\n  selectedItems: string[]\n  onSelectionChange: (items: string[]) => void\n  getItemColor?: (item: string) => string\n  icon?: React.ReactNode\n}) => {\n  const isActive = selectedItems.length > 0\n  \n  return (\n    <div className=\"filter-dropdown\">\n      <button \n        className={`filter-btn ${isActive ? 'active' : ''}`}\n        style={{ minWidth: '150px', display: 'flex', alignItems: 'center', gap: '0.5rem' }}\n      >\n        {icon}\n        {title} {isActive && `(${selectedItems.length})`}\n      </button>\n      <div className=\"filter-dropdown-content\">\n        <div style={{ padding: '0.5rem', borderBottom: '1px solid rgba(139, 69, 19, 0.3)' }}>\n          <button\n            onClick={(e) => {\n              e.stopPropagation()\n              onSelectionChange(items)\n            }}\n            style={{\n              padding: '0.25rem 0.5rem',\n              marginRight: '0.5rem',\n              background: '#27ae60',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '0.7rem'\n            }}\n          >\n            Выбрать все\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation()\n              onSelectionChange([])\n            }}\n            style={{\n              padding: '0.25rem 0.5rem',\n              background: '#e74c3c',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '0.7rem'\n            }}\n          >\n            Снять все\n          </button>\n        </div>\n        {items.map(item => (\n          <label key={item} className=\"filter-checkbox\" onClick={(e) => e.stopPropagation()}>\n            <input\n              type=\"checkbox\"\n              checked={selectedItems.includes(item)}\n              onChange={(e) => {\n                e.stopPropagation()\n                if (e.target.checked) {\n                  onSelectionChange([...selectedItems, item])\n                } else {\n                  onSelectionChange(selectedItems.filter(i => i !== item))\n                }\n              }}\n            />\n            <span style={{ \n              color: getItemColor ? getItemColor(item) : '#f4e4c1',\n              fontWeight: getItemColor ? 'bold' : 'normal'\n            }}>\n              {item}\n            </span>\n          </label>\n        ))}\n      </div>\n    </div>\n  )\n}\n\n// Компонент панели фильтров\nconst FilterPanel = ({ \n  filters, \n  setFilters, \n  allCategories, \n  allCountries \n}: {\n  filters: {\n    categories: string[]\n    countries: string[]\n    timeRange: { start: number; end: number }\n    showAchievements: boolean\n  }\n  setFilters: React.Dispatch<React.SetStateAction<{\n    categories: string[]\n    countries: string[]\n    timeRange: { start: number; end: number }\n    showAchievements: boolean\n  }>>\n  allCategories: string[]\n  allCountries: string[]\n}) => {\n  // Состояние для полей ввода годов\n  const [yearInputs, setYearInputs] = useState({\n    start: filters.timeRange.start.toString(),\n    end: filters.timeRange.end.toString()\n  })\n\n  // Функция для применения фильтра по году\n  const applyYearFilter = (field: 'start' | 'end', value: string) => {\n    const numValue = parseInt(value) || (field === 'start' ? -800 : 2000)\n    setFilters(prev => ({\n      ...prev,\n      timeRange: { ...prev.timeRange, [field]: numValue }\n    }))\n  }\n\n  // Функция для обработки нажатия Enter\n  const handleYearKeyPress = (field: 'start' | 'end', e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      applyYearFilter(field, e.currentTarget.value)\n      // Переводим фокус на следующий элемент\n      const inputs = e.currentTarget.parentElement?.parentElement?.querySelectorAll('input')\n      if (inputs) {\n        const currentIndex = Array.from(inputs).indexOf(e.currentTarget)\n        const nextInput = inputs[currentIndex + 1] as HTMLInputElement\n        if (nextInput) {\n          nextInput.focus()\n        }\n      }\n    }\n  }\n\n  // Функция для сброса всех фильтров\n  const resetAllFilters = () => {\n    setFilters({\n      categories: [],\n      countries: [],\n      timeRange: { start: -800, end: 2000 },\n      showAchievements: true\n    })\n    setYearInputs({\n      start: '-800',\n      end: '2000'\n    })\n  }\n\n  return (\n    <div className=\"filters-panel\" style={{\n      background: 'none',\n      border: 'none',\n      boxShadow: 'none',\n      padding: 0,\n      display: 'flex',\n      gap: '1rem',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      marginLeft: 'auto',\n      zIndex: 10001\n    }}>\n      <FilterDropdown\n        title=\"Род деятельности\"\n        items={allCategories}\n        selectedItems={filters.categories}\n        onSelectionChange={(categories) => setFilters(prev => ({ ...prev, categories }))}\n        getItemColor={getCategoryColor}\n        icon={\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n          </svg>\n        }\n      />\n      <FilterDropdown\n        title=\"Страна происхождения\"\n        items={allCountries}\n        selectedItems={filters.countries}\n        onSelectionChange={(countries) => setFilters(prev => ({ ...prev, countries }))}\n        icon={\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n          </svg>\n        }\n      />\n      <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n        <div>\n          <label style={{ fontSize: '0.8rem', display: 'block', marginBottom: '0.25rem', color: '#f4e4c1' }}>\n            От:\n          </label>\n          <input\n            type=\"number\"\n            value={yearInputs.start}\n            onChange={(e) => setYearInputs(prev => ({ ...prev, start: e.target.value }))}\n            onBlur={(e) => applyYearFilter('start', e.target.value)}\n            onKeyPress={(e) => handleYearKeyPress('start', e)}\n            style={{\n              width: '80px',\n              padding: '0.5rem',\n              border: '2px solid #8b4513',\n              borderRadius: '4px',\n              background: 'rgba(44, 24, 16, 0.8)',\n              color: '#f4e4c1',\n              fontSize: '0.8rem'\n            }}\n          />\n        </div>\n        <div>\n          <label style={{ fontSize: '0.8rem', display: 'block', marginBottom: '0.25rem', color: '#f4e4c1' }}>\n            До:\n          </label>\n          <input\n            type=\"number\"\n            value={yearInputs.end}\n            onChange={(e) => setYearInputs(prev => ({ ...prev, end: e.target.value }))}\n            onBlur={(e) => applyYearFilter('end', e.target.value)}\n            onKeyPress={(e) => handleYearKeyPress('end', e)}\n            style={{\n              width: '80px',\n              padding: '0.5rem',\n              border: '2px solid #8b4513',\n              borderRadius: '4px',\n              background: 'rgba(44, 24, 16, 0.8)',\n              color: '#f4e4c1',\n              fontSize: '0.8rem'\n            }}\n          />\n        </div>\n        <button\n          onClick={resetAllFilters}\n          className=\"filter-btn\"\n          style={{ background: 'linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%)', fontSize: '0.8rem', padding: '0.5rem 1rem' }}\n        >\n          Сбросить\n        </button>\n        \n        {/* Переключатель маркеров достижений */}\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center', \n          gap: '0.5rem',\n          padding: '0.5rem',\n          borderRadius: '4px',\n          background: filters.showAchievements ? 'rgba(255, 255, 255, 0.1)' : 'rgba(255, 255, 255, 0.05)',\n          border: `1px solid ${filters.showAchievements ? 'rgba(255, 255, 255, 0.3)' : 'rgba(255, 255, 255, 0.1)'}`,\n          transition: 'all 0.2s ease'\n        }}>\n          <label style={{ \n            fontSize: '0.8rem', \n            color: '#f4e4c1',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            cursor: 'pointer',\n            margin: 0\n          }}>\n            <input\n              type=\"checkbox\"\n              checked={filters.showAchievements}\n              onChange={(e) => setFilters(prev => ({ ...prev, showAchievements: e.target.checked }))}\n              style={{ \n                width: '16px', \n                height: '16px',\n                cursor: 'pointer',\n                accentColor: '#f4e4c1'\n              }}\n            />\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ opacity: filters.showAchievements ? 1 : 0.5 }}>\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n            </svg>\n            <span>Маркеры достижений</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction App() {\n\n  const [hoveredPerson, setHoveredPerson] = useState<Person | null>(null)\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 })\n  const [showTooltip, setShowTooltip] = useState(false)\n  const [hoveredAchievement, setHoveredAchievement] = useState<{ person: Person; year: number; index: number } | null>(null)\n  const [achievementTooltipPosition, setAchievementTooltipPosition] = useState({ x: 0, y: 0 })\n  const [showAchievementTooltip, setShowAchievementTooltip] = useState(false)\n  const [isScrolled, setIsScrolled] = useState(false)\n  const [activeAchievementMarker, setActiveAchievementMarker] = useState<{ personId: string; index: number } | null>(null)\n  const hoverTimerRef = useRef<NodeJS.Timeout | null>(null)\n  const [filters, setFilters] = useState(() => {\n    const savedFilters = localStorage.getItem('chronoline-filters');\n    if (savedFilters) {\n      const parsed = JSON.parse(savedFilters);\n      return {\n        categories: parsed.categories || [],\n        countries: parsed.countries || [],\n        timeRange: parsed.timeRange || { start: -800, end: 2000 },\n        showAchievements: parsed.showAchievements !== undefined ? parsed.showAchievements : true\n      };\n    }\n    return {\n      categories: [] as string[],\n      countries: [] as string[],\n      timeRange: { start: -800, end: 2000 },\n      showAchievements: true\n    };\n  })\n\n  // Сохраняем фильтры в localStorage при изменении\n  useEffect(() => {\n    localStorage.setItem('chronoline-filters', JSON.stringify(filters));\n  }, [filters]);\n\n  // Очищаем таймер при размонтировании компонента\n  useEffect(() => {\n    return () => {\n      if (hoverTimerRef.current) {\n        clearTimeout(hoverTimerRef.current);\n      }\n    };\n  }, []);\n  const [persons, setPersons] = useState<Person[]>([])\n  const [allCategories, setAllCategories] = useState<string[]>([])\n  const [allCountries, setAllCountries] = useState<string[]>([])\n  const [isLoading, setIsLoading] = useState(true);\n\n\n  // Единый useEffect для загрузки и фильтрации данных\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n\n        // Формируем параметры для запроса\n        const filtersToApply: any = {};\n        if (filters.categories.length > 0) {\n          filtersToApply.category = filters.categories.join(',');\n        }\n        if (filters.countries.length > 0) {\n          filtersToApply.country = filters.countries.join(',');\n        }\n        filtersToApply.startYear = filters.timeRange.start;\n        filtersToApply.endYear = filters.timeRange.end;\n\n        // Загружаем персон с учетом фильтров\n        const personsData = await getPersons(filtersToApply);\n        setPersons(personsData);\n\n        // Загружаем категории и страны только если они еще не загружены\n        if (allCategories.length === 0 || allCountries.length === 0) {\n          const [categoriesData, countriesData] = await Promise.all([\n            getCategories(),\n            getCountries()\n          ]);\n          setAllCategories(categoriesData);\n          setAllCountries(countriesData);\n        }\n      } catch (error) {\n        console.error(\"Ошибка при загрузке данных:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [filters, allCategories.length, allCountries.length]); // Перезагружаем данные при изменении фильтров\n\n    // Функция для получения приоритета категории\n  const getCategoryPriority = (category: string) => {\n    // Используем все категории из API, а не только жестко заданные\n    return allCategories.indexOf(category)\n  }\n\n  // Функция фильтрации данных (теперь данные фильтруются на бэкенде, но сортировка остается)\n  const sortedData = [...persons].sort((a, b) => {\n    // Сначала сортируем по категориям\n    const categoryDiff = getCategoryPriority(a.category) - getCategoryPriority(b.category)\n    if (categoryDiff !== 0) {\n      return categoryDiff\n    }\n    // Затем по году рождения\n    return a.birthYear - b.birthYear\n  })\n\n  // Отслеживаем скролл\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n      setIsScrolled(scrollTop > 50)\n    }\n\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n\n\n\n  // Вычисляем реальный диапазон лет из отфильтрованных данных\n  const minYear = Math.min(...sortedData.map(p => p.birthYear), filters.timeRange.start)\n  const maxYear = Math.max(...sortedData.map(p => p.deathYear), filters.timeRange.end)\n  const totalYears = maxYear - minYear\n\n  // Настройки масштаба\n  const pixelsPerYear = 3 // 3 пикселя на год\n  const LEFT_PADDING_PX = 30 // отступ слева, чтобы крайняя левая подпись не упиралась в край\n  const timelineWidth = totalYears * pixelsPerYear + LEFT_PADDING_PX\n\n  // Функция для вычисления позиции в пикселях\n  const getPosition = (year: number) => {\n    return LEFT_PADDING_PX + (year - minYear) * pixelsPerYear\n  }\n\n  // Функция для вычисления ширины полоски в пикселях\n  const getWidth = (birthYear: number, deathYear: number) => {\n    return (deathYear - birthYear) * pixelsPerYear\n  }\n\n  // Генерируем границы веков\n  const generateCenturyBoundaries = () => {\n    const boundaries = []\n    const startCentury = Math.floor(minYear / 100) * 100\n    const endCentury = Math.ceil(maxYear / 100) * 100\n    \n    for (let year = startCentury; year <= endCentury; year += 100) {\n      // Включаем границу, если она попадает в диапазон данных или является границей века\n      if (year <= maxYear) {\n        boundaries.push(year)\n      }\n    }\n    return boundaries\n  }\n\n  const centuryBoundaries = generateCenturyBoundaries()\n\n  // Функция для получения цвета века\n  const getCenturyColor = (year: number) => {\n    const colors = [\n      'rgba(255, 107, 107, 0.1)', // Светло-красный\n      'rgba(78, 205, 196, 0.1)', // Светло-голубой\n      'rgba(150, 206, 180, 0.1)', // Светло-зеленый\n      'rgba(255, 234, 167, 0.1)', // Светло-оранжевый\n      'rgba(221, 160, 221, 0.1)', // Светло-фиолетовый\n      'rgba(120, 219, 255, 0.1)', // Светло-бирюзовый\n      'rgba(255, 255, 229, 0.1)', // Светло-желтый\n      'rgba(255, 229, 240, 0.1)', // Светло-розовый\n    ]\n    \n    const centuryIndex = Math.floor((year - minYear) / 100)\n    return colors[centuryIndex % colors.length]\n  }\n\n  // Функция для конвертации в римские цифры\n  const toRomanNumeral = (num: number): string => {\n    const romanNumerals = [\n      { value: 1000, numeral: 'M' },\n      { value: 900, numeral: 'CM' },\n      { value: 500, numeral: 'D' },\n      { value: 400, numeral: 'CD' },\n      { value: 100, numeral: 'C' },\n      { value: 90, numeral: 'XC' },\n      { value: 50, numeral: 'L' },\n      { value: 40, numeral: 'XL' },\n      { value: 10, numeral: 'X' },\n      { value: 9, numeral: 'IX' },\n      { value: 5, numeral: 'V' },\n      { value: 4, numeral: 'IV' },\n      { value: 1, numeral: 'I' }\n    ]\n\n    let result = ''\n    let remaining = Math.abs(num)\n\n    for (const { value, numeral } of romanNumerals) {\n      while (remaining >= value) {\n        result += numeral\n        remaining -= value\n      }\n    }\n\n    return num < 0 ? `-${result}` : result\n  }\n\n  // Функция для получения номера века\n  const getCenturyNumber = (year: number): number => {\n    if (year < 0) {\n      // Для отрицательных лет: -1 до -100 = 1 век до н.э., -101 до -200 = 2 век до н.э.\n      return Math.floor((Math.abs(year) - 1) / 100) + 1\n    } else if (year === 0) {\n      // Год 0 не существует в исторической хронологии\n      return 1\n    } else {\n      // Для положительных лет: 1-100 = 1 век, 101-200 = 2 век и т.д.\n      return Math.floor((year - 1) / 100) + 1\n    }\n  }\n\n  // Алгоритм размещения полосок на строках с полной группировкой по категориям\n  const calculateRowPlacement = (people: Person[]) => {\n    const rows: Person[][] = []\n    const categoryGroups: { [key: string]: Person[] } = {}\n    \n    // Группируем людей по категориям\n    people.forEach(person => {\n      if (!categoryGroups[person.category]) {\n        categoryGroups[person.category] = []\n      }\n      categoryGroups[person.category].push(person)\n    })\n    \n    // Обрабатываем каждую категорию в заданном порядке\n    allCategories.forEach(category => {\n      if (categoryGroups[category]) {\n        const categoryPeople = categoryGroups[category]\n        const categoryRows: Person[][] = []\n        \n        // Размещаем людей данной категории в отдельные строки\n        categoryPeople.forEach(person => {\n          let placed = false\n          \n          // Проверяем каждую существующую строку для этой категории\n          for (let rowIndex = 0; rowIndex < categoryRows.length; rowIndex++) {\n            const row = categoryRows[rowIndex]\n            let canPlaceInRow = true\n            \n            // Проверяем, не пересекается ли с кем-то в этой строке\n            for (const existingPerson of row) {\n              const BUFFER = 20; // минимальный зазор между персонами\n              if (\n                person.birthYear - BUFFER <= existingPerson.deathYear &&\n                person.deathYear + BUFFER >= existingPerson.birthYear\n              ) {\n                canPlaceInRow = false\n                break\n              }\n            }\n            \n            // Если можно разместить в этой строке\n            if (canPlaceInRow) {\n              categoryRows[rowIndex].push(person)\n              placed = true\n              break\n            }\n          }\n          \n          // Если не удалось разместить в существующих строках, создаем новую\n          if (!placed) {\n            categoryRows.push([person])\n          }\n        })\n        \n        // Добавляем строки данной категории к общему списку\n        rows.push(...categoryRows)\n        \n        // Добавляем пустую строку для визуального разделения (кроме последней категории)\n        if (category !== allCategories[allCategories.length - 1]) {\n          rows.push([])\n        }\n      }\n    })\n    \n    return rows\n  }\n\n  // Получаем размещение по строкам\n  const rowPlacement = calculateRowPlacement(sortedData)\n\n  // Вычисляем общую высоту с учетом пустых строк\n  const totalHeight = rowPlacement.reduce((height, row) => {\n    return height + (row.length === 0 ? 20 : 70) // 20px для пустых строк, 70px для обычных (60px + 10px margin)\n  }, 0)\n\n  // Функция для создания разделителей категорий\n    // Высота строки и отступ вниз для непустой строки\n  const ROW_HEIGHT = 60;\n  const ROW_MARGIN = 10; // margin-bottom, используется только для непустых строк\n  const EMPTY_ROW_HEIGHT = 20;\n\n  // Подсчитываем абсолютный top каждой строки, чтобы точно позиционировать разделители\n  const rowTops: number[] = [];\n  (() => {\n    let acc = 0;\n    rowPlacement.forEach(row => {\n      rowTops.push(acc);\n      if (row.length === 0) {\n        acc += EMPTY_ROW_HEIGHT;\n      } else {\n        acc += ROW_HEIGHT + ROW_MARGIN;\n      }\n    });\n  })();\n\n  const createCategoryDividers = () => {\n    const dividers: { category: string; top: number }[] = [];\n    let currentCategory = '';\n\n    rowPlacement.forEach((row, rowIndex) => {\n      if (row.length > 0) {\n        const firstPersonInRow = row[0];\n        if (firstPersonInRow.category !== currentCategory) {\n          if (currentCategory !== '') {\n            // закрываем предыдущую категорию\n            dividers.push({ category: currentCategory, top: rowTops[rowIndex] - 5 });\n          }\n          currentCategory = firstPersonInRow.category;\n        }\n      }\n    });\n\n    // Добавляем разделитель для последней категории\n    if (currentCategory !== '') {\n      dividers.push({ category: currentCategory, top: rowTops[rowPlacement.length - 1] - 5 });\n    }\n\n    return dividers;\n  };\n\n  const categoryDividers = createCategoryDividers();\n\n\n\n  return (\n    <div className=\"app\">\n      <header \n        className={`app-header ${isScrolled ? 'scrolled' : ''}`}\n        style={{\n          padding: isScrolled ? '0.5rem 1.5rem' : '1rem 1.5rem',\n          transition: 'all 0.3s ease'\n        }}\n      >\n        <div style={{ \n          display: 'flex', \n          alignItems: 'flex-start', \n          justifyContent: 'space-between',\n          flexWrap: 'wrap',\n          gap: '1.5rem',\n          position: 'relative'\n        }}>\n          <div>\n            <h1 style={{ \n              fontSize: isScrolled ? '1.5rem' : '2rem',\n              margin: 0,\n              transition: 'font-size 0.3s ease'\n            }}>\n              Chronoline\n            </h1>\n            {!isScrolled && (\n              <p style={{ \n                fontSize: '0.9rem', \n                opacity: 0.8, \n                margin: '0.25rem 0 0 0',\n                transition: 'opacity 0.3s ease'\n              }}>\n                Временные линии исторических личностей\n              </p>\n            )}\n          </div>\n\n          {/* Фильтры прямо в шапке */}\n          <FilterPanel\n            filters={filters}\n            setFilters={setFilters}\n            allCategories={allCategories}\n            allCountries={allCountries}\n          />\n        </div>\n      </header>\n      \n      <main className=\"app-main\">\n        {isLoading && (\n          <div className=\"loading-overlay\">\n            <div className=\"spinner\"></div>\n            <span>Загрузка данных...</span>\n          </div>\n        )}\n        {/* Временная линия на весь экран */}\n        <div className=\"timeline-container\" style={{ \n          position: 'relative', \n          height: 'calc(100vh - 140px)',\n          overflow: 'auto',\n          padding: '1rem 0 2rem 0'\n        }}>\n\n          {/* Разноцветная заливка веков */}\n          <div style={{\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 1\n          }}>\n            {centuryBoundaries.map((year, index) => {\n              const nextYear = centuryBoundaries[index + 1] || (year + 100)\n              const startPos = getPosition(year)\n              const endPos = getPosition(nextYear)\n              const width = endPos - startPos\n\n              // Вычисляем век на основе центра года в столетии\n              const centerYear = year + 50\n              const centuryNumber = getCenturyNumber(centerYear)\n              // Для отрицательных веков добавляем знак минус\n              const isNegativeCentury = year < 0\n              const romanNumeral = isNegativeCentury ? `-${toRomanNumeral(Math.abs(centuryNumber))}` : toRomanNumeral(centuryNumber)\n              \n              return (\n                <div key={`century-bg-${year}`} style={{\n                  position: 'absolute',\n                  left: `${startPos}px`,\n                  width: `${width}px`,\n                  height: '100%',\n                  background: getCenturyColor(year),\n                  opacity: 0.3,\n                  zIndex: 1\n                }}>\n                  {/* Римская цифра века в центре */}\n                  <div className=\"century-label\" style={{\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    fontSize: '2rem',\n                    fontWeight: 'bold',\n                    color: 'rgba(244, 228, 193, 0.6)',\n                    textShadow: '2px 2px 4px rgba(0, 0, 0, 0.8)',\n                    pointerEvents: 'none',\n                    zIndex: 2,\n                    fontFamily: 'serif'\n                  }}>\n                    {romanNumeral}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n\n          {/* Границы веков на всю высоту */}\n          <div style={{\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 5\n          }}>\n            {centuryBoundaries.map((year) => (\n              <div key={`century-line-${year}`} style={{\n                position: 'absolute',\n                left: `${getPosition(year)}px`,\n                width: '2px',\n                height: '100%',\n                background: 'linear-gradient(to bottom, #cd853f 0%, #cd853f 20%, rgba(205, 133, 63, 0.3) 100%)',\n                zIndex: 5\n              }} />\n            ))}\n          </div>\n\n          {/* Разделители категорий */}\n          <div style={{\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 8\n          }}>\n            {categoryDividers.map((divider) => (\n              <div key={`category-divider-${divider.category}`} style={{\n                position: 'absolute',\n                top: `${divider.top}px`,\n                left: '0',\n                width: '100%',\n                height: '10px',\n                background: `linear-gradient(to right, transparent 0%, ${getCategoryColor(divider.category)} 20%, ${getCategoryColor(divider.category)} 80%, transparent 100%)`,\n                opacity: 0.6,\n                zIndex: 8\n              }}>\n                <div className=\"category-label\" style={{\n                  position: 'absolute',\n                  left: '20px',\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  background: getCategoryColor(divider.category),\n                  color: 'white',\n                  padding: '2px 8px',\n                  borderRadius: '4px',\n                  fontSize: '0.7rem',\n                  fontWeight: 'bold',\n                  whiteSpace: 'nowrap',\n                  zIndex: 9\n                }}>\n                  {divider.category}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Полоски жизни */}\n          <div style={{ \n            position: 'relative',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 60}px`,\n            zIndex: 10\n          }}>\n            {rowPlacement.map((row, rowIndex) => (\n              <div key={rowIndex} style={{\n                position: 'relative',\n                height: row.length === 0 ? '20px' : '60px',\n                marginBottom: row.length === 0 ? '0px' : '10px'\n              }}>\n                {row.map((person) => (\n                  <React.Fragment key={person.id}>\n                    {/* Годы жизни и правления над полоской */}\n                    <span style={{\n                      position: 'absolute',\n                      left: `${getPosition(person.birthYear)}px`,\n                      top: 0,\n                      fontSize: '11px',\n                      color: 'rgba(244, 228, 193, 0.6)',\n                      fontStyle: 'italic',\n                      fontWeight: 400,\n                      transform: 'translateX(-100%) translateY(-10px)'\n                    }}>{person.birthYear}</span>\n\n                    {person.reignStart && (\n                      <span className=\"reign-label\" style={{\n                        position: 'absolute',\n                        left: `${getPosition(person.reignStart)}px`,\n                        top: 0,\n                        fontSize: '11px',\n                        color: '#E57373', // Темно-красный\n                        fontStyle: 'italic',\n                        fontWeight: 'bold',\n                        transform: 'translateX(-100%) translateY(-22px)'\n                      }}>👑 {person.reignStart}</span>\n                    )}\n\n                    {person.reignEnd && (\n                      <span className=\"reign-label\" style={{\n                        position: 'absolute',\n                        left: `${getPosition(person.reignEnd)}px`,\n                        top: 0,\n                        fontSize: '11px',\n                        color: '#E57373', // Темно-красный\n                        fontStyle: 'italic',\n                        fontWeight: 'bold',\n                        transform: 'translateY(-22px)'\n                      }}>{person.reignEnd}</span>\n                    )}\n                    \n                    <span style={{\n                      position: 'absolute',\n                      left: `${getPosition(person.deathYear)}px`,\n                      top: 0,\n                      fontSize: '11px',\n                      color: 'rgba(244, 228, 193, 0.6)',\n                      fontStyle: 'italic',\n                      fontWeight: 400,\n                      transform: 'translateY(-10px)'\n                    }}>{person.deathYear}</span>\n\n                    {/* Маркеры ключевых достижений */}\n                    {filters.showAchievements && [person.achievementYear1, person.achievementYear2, person.achievementYear3]\n                      .filter(year => year !== undefined && year !== null)\n                      .map((year, index) => {\n                        return (\n                          <div key={index} style={{\n                            position: 'absolute',\n                            left: `${getPosition(year as number)}px`,\n                            top: '-4px',\n                            width: '2px',\n                            height: '15px',\n                            backgroundColor: getCategoryColorDark(person.category),\n                            zIndex: activeAchievementMarker?.personId === person.id && activeAchievementMarker?.index === index ? 10 : 3,\n                            transform: 'translateX(-50%)',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease'\n                          }}\n                          onMouseEnter={(e) => {\n                            e.currentTarget.style.backgroundColor = getCategoryColor(person.category);\n                            e.currentTarget.style.boxShadow = `0 0 3px ${getCategoryColor(person.category)}`;\n                            // Находим span внутри и обновляем его стили\n                            const span = e.currentTarget.querySelector('span');\n                            if (span) {\n                              span.style.backgroundColor = 'rgba(44, 24, 16, 0.95)';\n                              span.style.borderColor = getCategoryColor(person.category);\n                              span.style.color = getCategoryColor(person.category);\n                              span.style.fontSize = '9px';\n                              span.style.padding = '2px 4px';\n                              span.style.borderRadius = '3px';\n                            }\n                            \n                            // Устанавливаем активный маркер\n                            setActiveAchievementMarker({ personId: person.id, index });\n                            \n                            // Очищаем предыдущий таймер если он есть\n                            if (hoverTimerRef.current) {\n                              clearTimeout(hoverTimerRef.current);\n                            }\n                            \n                            // Запускаем таймер для показа tooltip\n                            hoverTimerRef.current = setTimeout(() => {\n                              setHoveredAchievement({ person, year: year as number, index });\n                              setAchievementTooltipPosition({ x: e.clientX, y: e.clientY });\n                              setShowAchievementTooltip(true);\n                            }, 500);\n                          }}\n                          onMouseLeave={(e) => {\n                            e.currentTarget.style.backgroundColor = getCategoryColorDark(person.category);\n                            e.currentTarget.style.boxShadow = 'none';\n                            // Возвращаем стили span к исходным\n                            const span = e.currentTarget.querySelector('span');\n                            if (span) {\n                              span.style.backgroundColor = 'rgba(44, 24, 16, 0.9)';\n                              span.style.borderColor = getCategoryColorDark(person.category);\n                              span.style.color = getCategoryColorDark(person.category);\n                              span.style.fontSize = '8px';\n                              span.style.padding = '1px 3px';\n                              span.style.borderRadius = '2px';\n                            }\n                            \n                            // Сбрасываем активный маркер\n                            setActiveAchievementMarker(null);\n                            \n                            // Очищаем таймер и скрываем tooltip\n                            if (hoverTimerRef.current) {\n                              clearTimeout(hoverTimerRef.current);\n                              hoverTimerRef.current = null;\n                            }\n                            setShowAchievementTooltip(false);\n                            setHoveredAchievement(null);\n                          }}\n                          onMouseMove={(e) => {\n                            setAchievementTooltipPosition({ x: e.clientX, y: e.clientY });\n                          }}\n                          onMouseOut={(e) => {\n                            // Дополнительная проверка на случай, если onMouseLeave не сработал\n                            if (!e.currentTarget.contains(e.relatedTarget as Node)) {\n                              setActiveAchievementMarker(null);\n                              if (hoverTimerRef.current) {\n                                clearTimeout(hoverTimerRef.current);\n                                hoverTimerRef.current = null;\n                              }\n                              setShowAchievementTooltip(false);\n                              setHoveredAchievement(null);\n                            }\n                          }}\n                          >\n                            <span style={{\n                              position: 'absolute',\n                              top: '-12px',\n                              left: '50%',\n                              transform: 'translateX(-50%)',\n                              fontSize: '8px',\n                              color: getCategoryColorDark(person.category),\n                              fontWeight: 'bold',\n                              whiteSpace: 'nowrap',\n                              backgroundColor: 'rgba(44, 24, 16, 0.9)',\n                              padding: '1px 3px',\n                              borderRadius: '2px',\n                              border: `1px solid ${getCategoryColorDark(person.category)}`,\n                              transition: 'all 0.2s ease'\n                            }}>\n                              {year}\n                            </span>\n                          </div>\n                        );\n                      })}\n\n                    {/* полоса правления */}\n                    {person.reignStart && person.reignEnd && (\n                      <div style={{\n                        position: 'absolute',\n                        top: '-15px',\n                        left: `${getPosition(person.reignStart)}px`,\n                        width: `${getWidth(person.reignStart, person.reignEnd)}px`,\n                        height: '65px',\n                        backgroundColor: 'rgba(211, 47, 47, 0.25)',\n                        pointerEvents: 'none',\n                        borderLeft: '2px solid #D32F2F',\n                        borderRight: '2px solid #D32F2F',\n                        borderRadius: '3px',\n                        zIndex: 1\n                      }} />\n                    )}\n\n                    <div\n                      className=\"life-bar\"\n                      style={{\n                        position: 'absolute',\n                        top: '10px',\n                        left: `${getPosition(person.birthYear)}px`,\n                        width: `${getWidth(person.birthYear, person.deathYear)}px`,\n                        height: '40px',\n                        background: `linear-gradient(135deg, ${getCategoryColorMuted(person.category)} 0%, #6a5a3a 100%)`,\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        padding: '0 12px',\n                        color: 'white',\n                        fontSize: '14px',\n                        fontWeight: 'bold',\n                        minWidth: '60px',\n                        boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\n                        border: '1.5px solid #a8926a',\n                        opacity: 1,\n                        zIndex: 5\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.transform = 'translateY(-3px) scale(1.02)'\n                        e.currentTarget.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.4)'\n                        e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.4)'\n                        setHoveredPerson(person)\n                        setMousePosition({ x: e.clientX, y: e.clientY })\n                        setTimeout(() => setShowTooltip(true), 300)\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.transform = 'translateY(0) scale(1)'\n                        e.currentTarget.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)'\n                        e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.2)'\n                        setHoveredPerson(null)\n                        setShowTooltip(false)\n                      }}\n                      onMouseMove={(e) => {\n                        setMousePosition({ x: e.clientX, y: e.clientY })\n                      }}\n                    >\n                      <div style={{ display: 'flex', flexDirection: 'column', lineHeight: '1.2' }}>\n                        <span>{person.name}</span>\n                      </div>\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      </main>\n\n      {/* Всплывающее окно с информацией */}\n      {hoveredPerson && showTooltip && (\n        <div className=\"tooltip\" style={{ \n          position: 'fixed',\n          left: `${mousePosition.x + 15}px`,\n          top: `${mousePosition.y - 10}px`,\n          padding: '1rem',\n          zIndex: 1000,\n          maxWidth: '300px',\n          minWidth: '250px',\n          color: '#f4e4c1',\n          pointerEvents: 'none',\n          opacity: 0,\n          transform: 'translateY(10px) scale(0.95)',\n          animation: 'tooltipFadeIn 0.2s ease-out forwards'\n        }}>\n          {/* Фотография человека, если есть */}\n          {hoveredPerson.imageUrl && (\n            <div style={{ \n              marginBottom: '0.75rem',\n              textAlign: 'center'\n            }}>\n              <img \n                src={hoveredPerson.imageUrl} \n                alt={hoveredPerson.name}\n                style={{\n                  width: '80px',\n                  height: '80px',\n                  borderRadius: '50%',\n                  objectFit: 'cover',\n                  border: `2px solid ${getCategoryColor(hoveredPerson.category)}`,\n                  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.3)'\n                }}\n                onError={(e) => {\n                  // Скрываем изображение если оно не загрузилось\n                  e.currentTarget.style.display = 'none';\n                }}\n              />\n            </div>\n          )}\n          \n          <h3 style={{ \n            margin: '0 0 0.5rem 0', \n            color: getCategoryColor(hoveredPerson.category),\n            fontSize: '1.1rem',\n            fontWeight: 'bold'\n          }}>\n            {hoveredPerson.name}\n          </h3>\n          \n          <div style={{ fontSize: '0.85rem', lineHeight: '1.4' }}>\n            <p style={{ margin: '0.25rem 0', fontWeight: 'bold' }}>\n              {hoveredPerson.birthYear} - {hoveredPerson.deathYear}\n            </p>\n            <p style={{ margin: '0.25rem 0' }}>\n              <span style={{ color: getCategoryColor(hoveredPerson.category), fontWeight: 'bold' }}>\n                {hoveredPerson.category}\n              </span> • {hoveredPerson.country}\n            </p>\n            <p style={{ margin: '0.5rem 0', fontStyle: 'italic', opacity: 0.8 }}>\n              {hoveredPerson.description}\n            </p>\n            \n            {/* Ключевые достижения по годам */}\n            {filters.showAchievements && ([hoveredPerson.achievementYear1, hoveredPerson.achievementYear2, hoveredPerson.achievementYear3]\n              .filter(year => year !== undefined && year !== null).length > 0) && (\n              <div style={{ marginTop: '0.5rem' }}>\n                <strong style={{ fontSize: '0.8rem', color: getCategoryColor(hoveredPerson.category) }}>\n                  🎯 Ключевые достижения:\n                </strong>\n                <div style={{ \n                  margin: '0.25rem 0 0 0',\n                  fontSize: '0.8rem'\n                }}>\n                  {[hoveredPerson.achievementYear1, hoveredPerson.achievementYear2, hoveredPerson.achievementYear3]\n                    .filter(year => year !== undefined && year !== null)\n                    .map((year, index) => (\n                      <div key={index} style={{ \n                        marginBottom: '0.1rem',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '0.5rem'\n                      }}>\n                        <span style={{ \n                          color: getCategoryColor(hoveredPerson.category),\n                          fontWeight: 'bold',\n                          fontSize: '0.75rem'\n                        }}>\n                          {year}\n                        </span>\n                        <span style={{ fontSize: '0.75rem' }}>\n                          {hoveredPerson.achievements[index] || 'Ключевое достижение'}\n                        </span>\n                      </div>\n                    ))}\n                </div>\n              </div>\n            )}\n\n\n          </div>\n        </div>\n      )}\n\n      {/* Всплывающее окно для достижений */}\n      {hoveredAchievement && showAchievementTooltip && (\n        <div className=\"achievement-tooltip\" style={{ \n          position: 'fixed',\n          left: `${achievementTooltipPosition.x + 15}px`,\n          top: `${achievementTooltipPosition.y - 10}px`,\n          padding: '0.75rem',\n          zIndex: 1001,\n          maxWidth: '250px',\n          minWidth: '200px',\n          color: '#f4e4c1',\n          pointerEvents: 'none',\n          opacity: 0,\n          transform: 'translateY(10px) scale(0.95)',\n          animation: 'tooltipFadeIn 0.2s ease-out forwards',\n          backgroundColor: 'rgba(44, 24, 16, 0.95)',\n          borderRadius: '6px',\n          border: `2px solid ${getCategoryColor(hoveredAchievement.person.category)}`,\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n        }}>\n          <div style={{ fontSize: '0.85rem', lineHeight: '1.4' }}>\n            {/* Фотография человека, если есть */}\n            {hoveredAchievement.person.imageUrl && (\n              <div style={{ \n                marginBottom: '0.5rem',\n                textAlign: 'center'\n              }}>\n                <img \n                  src={hoveredAchievement.person.imageUrl} \n                  alt={hoveredAchievement.person.name}\n                  style={{\n                    width: '50px',\n                    height: '50px',\n                    borderRadius: '50%',\n                    objectFit: 'cover',\n                    border: `2px solid ${getCategoryColor(hoveredAchievement.person.category)}`,\n                    boxShadow: '0 2px 6px rgba(0, 0, 0, 0.3)'\n                  }}\n                  onError={(e) => {\n                    // Скрываем изображение если оно не загрузилось\n                    e.currentTarget.style.display = 'none';\n                  }}\n                />\n              </div>\n            )}\n            \n            <h4 style={{ \n              margin: '0 0 0.5rem 0', \n              color: getCategoryColor(hoveredAchievement.person.category),\n              fontSize: '1rem',\n              fontWeight: 'bold'\n            }}>\n              {hoveredAchievement.person.name}\n            </h4>\n            \n            <p style={{ \n              margin: '0.25rem 0', \n              fontWeight: 'bold',\n              color: getCategoryColor(hoveredAchievement.person.category),\n              fontSize: '0.9rem'\n            }}>\n              🎯 {hoveredAchievement.year}\n            </p>\n            \n            <p style={{ \n              margin: '0.25rem 0', \n              fontSize: '0.8rem',\n              fontStyle: 'italic'\n            }}>\n              {hoveredAchievement.person.achievements[hoveredAchievement.index] || 'Ключевое достижение'}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default App "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}