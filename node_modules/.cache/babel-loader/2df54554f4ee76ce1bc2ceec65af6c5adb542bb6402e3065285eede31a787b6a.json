{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{getPersons,getCategories,getCountries}from'./services/api';import{getCategoryColor,getCategoryColorDark,getCategoryColorMuted}from'./utils/categoryColors';import'./App.css';// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const FilterDropdown=_ref=>{let{title,items,selectedItems,onSelectionChange,getItemColor,icon}=_ref;const isActive=selectedItems.length>0;return/*#__PURE__*/_jsxs(\"div\",{className:\"filter-dropdown\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`filter-btn ${isActive?'active':''}`,style:{minWidth:'150px',display:'flex',alignItems:'center',gap:'0.5rem'},children:[icon,title,\" \",isActive&&`(${selectedItems.length})`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-dropdown-content\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.5rem',borderBottom:'1px solid rgba(139, 69, 19, 0.3)'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onSelectionChange(items);},style:{padding:'0.25rem 0.5rem',marginRight:'0.5rem',background:'#27ae60',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'0.7rem'},children:\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onSelectionChange([]);},style:{padding:'0.25rem 0.5rem',background:'#e74c3c',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'0.7rem'},children:\"\\u0421\\u043D\\u044F\\u0442\\u044C \\u0432\\u0441\\u0435\"})]}),items.map(item=>/*#__PURE__*/_jsxs(\"label\",{className:\"filter-checkbox\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedItems.includes(item),onChange:e=>{e.stopPropagation();if(e.target.checked){onSelectionChange([...selectedItems,item]);}else{onSelectionChange(selectedItems.filter(i=>i!==item));}}}),/*#__PURE__*/_jsx(\"span\",{style:{color:getItemColor?getItemColor(item):'#f4e4c1',fontWeight:getItemColor?'bold':'normal'},children:item})]},item))]})]});};// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏\nconst GroupingToggle=_ref2=>{let{groupingType,onGroupingChange}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"grouping-toggle\",style:{display:'flex',alignItems:'center',gap:'0.4rem',padding:'0.4rem',background:'rgba(244, 228, 193, 0.1)',borderRadius:'6px',border:'1px solid rgba(139, 69, 19, 0.3)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.8rem',color:'#f4e4c1',fontWeight:'bold'},children:\"\\u0413\\u0440\\u0443\\u043F\\u043F\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.25rem'},children:[{value:'category',label:'–ü–æ —Ä–æ–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',icon:'üé≠'},{value:'country',label:'–ü–æ —Å—Ç—Ä–∞–Ω–∞–º',icon:'üåç'},{value:'none',label:'–ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏',icon:'üìä'}].map(option=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onGroupingChange(option.value),style:{padding:'0.4rem 0.6rem',background:groupingType===option.value?'#cd853f':'rgba(244, 228, 193, 0.1)',color:groupingType===option.value?'#2c1810':'#f4e4c1',border:'1px solid rgba(139, 69, 19, 0.3)',borderRadius:'4px',cursor:'pointer',fontSize:'0.75rem',fontWeight:groupingType===option.value?'bold':'normal',transition:'all 0.2s ease',display:'flex',alignItems:'center',gap:'0.2rem'},onMouseEnter:e=>{if(groupingType!==option.value){e.currentTarget.style.background='rgba(205, 133, 63, 0.3)';}},onMouseLeave:e=>{if(groupingType!==option.value){e.currentTarget.style.background='rgba(244, 228, 193, 0.1)';}},children:[/*#__PURE__*/_jsx(\"span\",{children:option.icon}),/*#__PURE__*/_jsx(\"span\",{children:option.label})]},option.value))})]});};function App(){const[hoveredPerson,setHoveredPerson]=useState(null);const[mousePosition,setMousePosition]=useState({x:0,y:0});const[showTooltip,setShowTooltip]=useState(false);const[hoveredAchievement,setHoveredAchievement]=useState(null);const[achievementTooltipPosition,setAchievementTooltipPosition]=useState({x:0,y:0});const[showAchievementTooltip,setShowAchievementTooltip]=useState(false);const[isScrolled,setIsScrolled]=useState(false);const[activeAchievementMarker,setActiveAchievementMarker]=useState(null);const hoverTimerRef=useRef(null);const[filters,setFilters]=useState(()=>{const savedFilters=localStorage.getItem('chronoline-filters');if(savedFilters){const parsed=JSON.parse(savedFilters);return{categories:parsed.categories||[],countries:parsed.countries||[],timeRange:parsed.timeRange||{start:-800,end:2000},showAchievements:parsed.showAchievements!==undefined?parsed.showAchievements:true};}return{categories:[],countries:[],timeRange:{start:-800,end:2000},showAchievements:true};});// –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç–∏–ø–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏\nconst[groupingType,setGroupingType]=useState(()=>{const savedGrouping=localStorage.getItem('chronoline-grouping');return savedGrouping||'category';});// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\nuseEffect(()=>{localStorage.setItem('chronoline-filters',JSON.stringify(filters));},[filters]);// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–∏–ø –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\nuseEffect(()=>{localStorage.setItem('chronoline-grouping',groupingType);},[groupingType]);// –û—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\nuseEffect(()=>{return()=>{if(hoverTimerRef.current){clearTimeout(hoverTimerRef.current);}};},[]);const[persons,setPersons]=useState([]);const[allCategories,setAllCategories]=useState([]);const[allCountries,setAllCountries]=useState([]);const[isLoading,setIsLoading]=useState(true);// –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –≥–æ–¥–æ–≤\nconst[yearInputs,setYearInputs]=useState({start:filters.timeRange.start.toString(),end:filters.timeRange.end.toString()});// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –≥–æ–¥—É\nconst applyYearFilter=(field,value)=>{const numValue=parseInt(value)||(field==='start'?-800:2000);setFilters(prev=>({...prev,timeRange:{...prev.timeRange,[field]:numValue}}));};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏—è Enter\nconst handleYearKeyPress=(field,e)=>{if(e.key==='Enter'){var _e$currentTarget$pare,_e$currentTarget$pare2;applyYearFilter(field,e.currentTarget.value);// –ü–µ—Ä–µ–≤–æ–¥–∏–º —Ñ–æ–∫—É—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç\nconst inputs=(_e$currentTarget$pare=e.currentTarget.parentElement)===null||_e$currentTarget$pare===void 0?void 0:(_e$currentTarget$pare2=_e$currentTarget$pare.parentElement)===null||_e$currentTarget$pare2===void 0?void 0:_e$currentTarget$pare2.querySelectorAll('input');if(inputs){const currentIndex=Array.from(inputs).indexOf(e.currentTarget);const nextInput=inputs[currentIndex+1];if(nextInput){nextInput.focus();}}}};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤\nconst resetAllFilters=()=>{setFilters({categories:[],countries:[],timeRange:{start:-800,end:2000},showAchievements:true});setYearInputs({start:'-800',end:'2000'});};// –ï–¥–∏–Ω—ã–π useEffect –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö\nuseEffect(()=>{const fetchData=async()=>{try{setIsLoading(true);// –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞\nconst filtersToApply={};if(filters.categories.length>0){filtersToApply.category=filters.categories.join(',');}if(filters.countries.length>0){filtersToApply.country=filters.countries.join(',');}filtersToApply.startYear=filters.timeRange.start;filtersToApply.endYear=filters.timeRange.end;// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä—Å–æ–Ω —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤\nconst personsData=await getPersons(filtersToApply);setPersons(personsData);// –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç—Ä–∞–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã\nif(allCategories.length===0||allCountries.length===0){const[categoriesData,countriesData]=await Promise.all([getCategories(),getCountries()]);setAllCategories(categoriesData);setAllCountries(countriesData);}}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:\",error);}finally{setIsLoading(false);}};fetchData();},[filters,allCategories.length,allCountries.length]);// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\nconst getCategoryPriority=category=>{// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ API, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ\nreturn allCategories.indexOf(category);};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏\nconst getGroupColor=groupName=>{if(groupingType==='category'){return getCategoryColor(groupName);}else if(groupingType==='country'){// –î–ª—è —Å—Ç—Ä–∞–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥—Ä—É–≥–æ–π –Ω–∞–±–æ—Ä —Ü–≤–µ—Ç–æ–≤\nconst countryColors=['#e74c3c','#3498db','#2ecc71','#f39c12','#9b59b6','#1abc9c','#e67e22','#34495e','#16a085','#8e44ad','#27ae60','#2980b9','#f1c40f','#e74c3c','#95a5a6'];const index=allCountries.indexOf(groupName);return countryColors[index%countryColors.length];}return'#95a5a6';// —Å–µ—Ä—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø—ã (—Ç–µ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)\nconst getGroupColorDark=groupName=>{if(groupingType==='category'){return getCategoryColorDark(groupName);}else if(groupingType==='country'){// –î–ª—è —Å—Ç—Ä–∞–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–º–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–æ–≤\nconst countryColorsDark=['#c0392b','#2980b9','#27ae60','#d68910','#8e44ad','#16a085','#d35400','#2c3e50','#138d75','#7d3c98','#229954','#1f618d','#d4ac0f','#c0392b','#7f8c8d'];const index=allCountries.indexOf(groupName);return countryColorsDark[index%countryColorsDark.length];}return'#7f8c8d';// —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø—ã (–ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)\nconst getGroupColorMuted=groupName=>{if(groupingType==='category'){return getCategoryColorMuted(groupName);}else if(groupingType==='country'){// –î–ª—è —Å—Ç—Ä–∞–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–æ–≤\nconst countryColorsMuted=['#e74c3c','#3498db','#2ecc71','#f39c12','#9b59b6','#1abc9c','#e67e22','#34495e','#16a085','#8e44ad','#27ae60','#2980b9','#f1c40f','#e74c3c','#95a5a6'];const index=allCountries.indexOf(groupName);return countryColorsMuted[index%countryColorsMuted.length];}return'#95a5a6';// —Å–µ—Ä—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n};// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω—ã –∏–∑ —Å–ø–∏—Å–∫–∞\nconst getFirstCountry=countryString=>{const countries=countryString.split('/').map(c=>c.trim());return countries[0]||countryString;};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\nconst getPersonGroup=person=>{if(groupingType==='category'){return person.category;}else if(groupingType==='country'){return getFirstCountry(person.country);}return person.category;// –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n};// –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (—Ç–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ, –Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è)\nconst sortedData=[...persons].sort((a,b)=>{if(groupingType==='category'){// –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\nconst categoryDiff=getCategoryPriority(a.category)-getCategoryPriority(b.category);if(categoryDiff!==0){return categoryDiff;}}else if(groupingType==='country'){// –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Å—Ç—Ä–∞–Ω–∞–º (–±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω—É –∏–∑ —Å–ø–∏—Å–∫–∞)\nconst countryDiff=allCountries.indexOf(getFirstCountry(a.country))-allCountries.indexOf(getFirstCountry(b.country));if(countryDiff!==0){return countryDiff;}}// –ó–∞—Ç–µ–º –ø–æ –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è\nreturn a.birthYear-b.birthYear;});// –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª\nuseEffect(()=>{const handleScroll=()=>{const scrollTop=window.pageYOffset||document.documentElement.scrollTop;setIsScrolled(scrollTop>50);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);// –í—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ª–µ—Ç –∏–∑ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\nconst minYear=Math.min(...sortedData.map(p=>p.birthYear),filters.timeRange.start);const maxYear=Math.max(...sortedData.map(p=>p.deathYear),filters.timeRange.end);const totalYears=maxYear-minYear;// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Å—à—Ç–∞–±–∞\nconst pixelsPerYear=3;// 3 –ø–∏–∫—Å–µ–ª—è –Ω–∞ –≥–æ–¥\nconst LEFT_PADDING_PX=30;// –æ—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã –∫—Ä–∞–π–Ω—è—è –ª–µ–≤–∞—è –ø–æ–¥–ø–∏—Å—å –Ω–µ —É–ø–∏—Ä–∞–ª–∞—Å—å –≤ –∫—Ä–∞–π\nconst timelineWidth=totalYears*pixelsPerYear+LEFT_PADDING_PX;// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö\nconst getPosition=year=>{return LEFT_PADDING_PX+(year-minYear)*pixelsPerYear;};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã –ø–æ–ª–æ—Å–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö\nconst getWidth=(birthYear,deathYear)=>{return(deathYear-birthYear)*pixelsPerYear;};// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≥—Ä–∞–Ω–∏—Ü—ã –≤–µ–∫–æ–≤\nconst generateCenturyBoundaries=()=>{const boundaries=[];const startCentury=Math.floor(minYear/100)*100;const endCentury=Math.ceil(maxYear/100)*100;for(let year=startCentury;year<=endCentury;year+=100){// –í–∫–ª—é—á–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É, –µ—Å–ª–∏ –æ–Ω–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —è–≤–ª—è–µ—Ç—Å—è –≥—Ä–∞–Ω–∏—Ü–µ–π –≤–µ–∫–∞\nif(year<=maxYear){boundaries.push(year);}}return boundaries;};const centuryBoundaries=generateCenturyBoundaries();// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≤–µ–∫–∞\nconst getCenturyColor=year=>{const colors=['rgba(255, 107, 107, 0.1)',// –°–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π\n'rgba(78, 205, 196, 0.1)',// –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π\n'rgba(150, 206, 180, 0.1)',// –°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π\n'rgba(255, 234, 167, 0.1)',// –°–≤–µ—Ç–ª–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π\n'rgba(221, 160, 221, 0.1)',// –°–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π\n'rgba(120, 219, 255, 0.1)',// –°–≤–µ—Ç–ª–æ-–±–∏—Ä—é–∑–æ–≤—ã–π\n'rgba(255, 255, 229, 0.1)',// –°–≤–µ—Ç–ª–æ-–∂–µ–ª—Ç—ã–π\n'rgba(255, 229, 240, 0.1)'// –°–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π\n];const centuryIndex=Math.floor((year-minYear)/100);return colors[centuryIndex%colors.length];};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Ä–∏–º—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã\nconst toRomanNumeral=num=>{const romanNumerals=[{value:1000,numeral:'M'},{value:900,numeral:'CM'},{value:500,numeral:'D'},{value:400,numeral:'CD'},{value:100,numeral:'C'},{value:90,numeral:'XC'},{value:50,numeral:'L'},{value:40,numeral:'XL'},{value:10,numeral:'X'},{value:9,numeral:'IX'},{value:5,numeral:'V'},{value:4,numeral:'IV'},{value:1,numeral:'I'}];let result='';let remaining=Math.abs(num);for(const{value,numeral}of romanNumerals){while(remaining>=value){result+=numeral;remaining-=value;}}return num<0?`-${result}`:result;};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –≤–µ–∫–∞\nconst getCenturyNumber=year=>{if(year<0){// –î–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –ª–µ—Ç: -1 –¥–æ -100 = 1 –≤–µ–∫ –¥–æ –Ω.—ç., -101 –¥–æ -200 = 2 –≤–µ–∫ –¥–æ –Ω.—ç.\nreturn Math.floor((Math.abs(year)-1)/100)+1;}else if(year===0){// –ì–æ–¥ 0 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏\nreturn 1;}else{// –î–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–µ—Ç: 1-100 = 1 –≤–µ–∫, 101-200 = 2 –≤–µ–∫ –∏ —Ç.–¥.\nreturn Math.floor((year-1)/100)+1;}};// –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–æ–ª–æ—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö —Å –ø–æ–ª–Ω–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\nconst calculateRowPlacement=people=>{const rows=[];if(groupingType==='none'){// –ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ - –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–º–µ—â–∞–µ–º –≤—Å–µ—Ö –≤ —Å—Ç—Ä–æ–∫–∏\nconst allRows=[];people.forEach(person=>{let placed=false;// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–æ–∫—É\nfor(let rowIndex=0;rowIndex<allRows.length;rowIndex++){const row=allRows[rowIndex];let canPlaceInRow=true;// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è –ª–∏ —Å –∫–µ–º-—Ç–æ –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\nfor(const existingPerson of row){const BUFFER=20;// –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∑–æ—Ä –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–º–∏\nif(person.birthYear-BUFFER<=existingPerson.deathYear&&person.deathYear+BUFFER>=existingPerson.birthYear){canPlaceInRow=false;break;}}// –ï—Å–ª–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\nif(canPlaceInRow){allRows[rowIndex].push(person);placed=true;break;}}// –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é\nif(!placed){allRows.push([person]);}});return allRows;}// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∞–º\nconst groupField=groupingType==='category'?'category':'country';const allGroups=groupingType==='category'?allCategories:allCountries;const groups={};// –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ª—é–¥–µ–π –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø–æ–ª—é\npeople.forEach(person=>{let groupValue;if(groupField==='country'){// –î–ª—è —Å—Ç—Ä–∞–Ω –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –∏–∑ —Å–ø–∏—Å–∫–∞, –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ \"/\"\ngroupValue=getFirstCountry(person.country);}else{groupValue=person[groupField];}if(!groups[groupValue]){groups[groupValue]=[];}groups[groupValue].push(person);});// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\nallGroups.forEach(groupValue=>{if(groups[groupValue]){const groupPeople=groups[groupValue];const groupRows=[];// –†–∞–∑–º–µ—â–∞–µ–º –ª—é–¥–µ–π –¥–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏\ngroupPeople.forEach(person=>{let placed=false;// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã\nfor(let rowIndex=0;rowIndex<groupRows.length;rowIndex++){const row=groupRows[rowIndex];let canPlaceInRow=true;// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è –ª–∏ —Å –∫–µ–º-—Ç–æ –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\nfor(const existingPerson of row){const BUFFER=20;// –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∑–æ—Ä –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–º–∏\nif(person.birthYear-BUFFER<=existingPerson.deathYear&&person.deathYear+BUFFER>=existingPerson.birthYear){canPlaceInRow=false;break;}}// –ï—Å–ª–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\nif(canPlaceInRow){groupRows[rowIndex].push(person);placed=true;break;}}// –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é\nif(!placed){groupRows.push([person]);}});// –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã –∫ –æ–±—â–µ–º—É —Å–ø–∏—Å–∫—É\nrows.push(...groupRows);// –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥—Ä—É–ø–ø—ã)\nif(groupValue!==allGroups[allGroups.length-1]){rows.push([]);}}});return rows;};// –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º\nconst rowPlacement=calculateRowPlacement(sortedData);// –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â—É—é –≤—ã—Å–æ—Ç—É —Å —É—á–µ—Ç–æ–º –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫\nconst totalHeight=rowPlacement.reduce((height,row)=>{return height+(row.length===0?20:70);// 20px –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫, 70px –¥–ª—è –æ–±—ã—á–Ω—ã—Ö (60px + 10px margin)\n},0);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n// –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ –∏ –æ—Ç—Å—Ç—É–ø –≤–Ω–∏–∑ –¥–ª—è –Ω–µ–ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏\nconst ROW_HEIGHT=60;const ROW_MARGIN=10;// margin-bottom, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫\nconst EMPTY_ROW_HEIGHT=20;// –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π top –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏\nconst rowTops=[];(()=>{let acc=0;rowPlacement.forEach(row=>{rowTops.push(acc);if(row.length===0){acc+=EMPTY_ROW_HEIGHT;}else{acc+=ROW_HEIGHT+ROW_MARGIN;}});})();const createCategoryDividers=()=>{if(groupingType==='none'){return[];// –ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π\n}const dividers=[];let currentGroup='';rowPlacement.forEach((row,rowIndex)=>{if(row.length>0){const firstPersonInRow=row[0];let currentGroupValue;if(groupingType==='category'){currentGroupValue=firstPersonInRow.category;}else if(groupingType==='country'){// –î–ª—è —Å—Ç—Ä–∞–Ω –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –∏–∑ —Å–ø–∏—Å–∫–∞\ncurrentGroupValue=getFirstCountry(firstPersonInRow.country);}else{currentGroupValue=firstPersonInRow.category;}if(currentGroupValue!==currentGroup){if(currentGroup!==''){// –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –≥—Ä—É–ø–ø—É\ndividers.push({category:currentGroup,top:rowTops[rowIndex]-5});}currentGroup=currentGroupValue;}}});// –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥—Ä—É–ø–ø—ã\nif(currentGroup!==''){dividers.push({category:currentGroup,top:rowTops[rowPlacement.length-1]-5});}return dividers;};const categoryDividers=createCategoryDividers();return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"header\",{className:`app-header ${isScrolled?'scrolled':''}`,style:{padding:isScrolled?'0.5rem 1.5rem':'0.75rem 1.5rem',transition:'all 0.3s ease'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr auto 1fr',alignItems:'center',gap:'1rem',position:'relative',width:'100%'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:isScrolled?'1.5rem':'1.8rem',margin:0,transition:'font-size 0.3s ease',fontWeight:'bold',color:'#f4e4c1',justifySelf:'start'},children:\"Chronoline\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem',alignItems:'center',padding:'0.5rem',background:'rgba(139, 69, 19, 0.05)',borderRadius:'8px',border:'1px solid rgba(139, 69, 19, 0.3)',justifySelf:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.7rem',color:'#f4e4c1',fontWeight:'bold',opacity:0.8,marginRight:'0.5rem'},children:\"\\u2699\\uFE0F \\u041E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.4rem',padding:'0.4rem',borderRadius:'4px',background:filters.showAchievements?'rgba(255, 255, 255, 0.1)':'rgba(255, 255, 255, 0.05)',border:`1px solid ${filters.showAchievements?'rgba(255, 255, 255, 0.3)':'rgba(255, 255, 255, 0.1)'}`,transition:'all 0.2s ease'},children:/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:'0.75rem',color:'#f4e4c1',display:'flex',alignItems:'center',gap:'0.4rem',cursor:'pointer',margin:0},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filters.showAchievements,onChange:e=>setFilters(prev=>({...prev,showAchievements:e.target.checked})),style:{width:'14px',height:'14px',cursor:'pointer',accentColor:'#f4e4c1'}}),/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{opacity:filters.showAchievements?1:0.5},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u041C\\u0430\\u0440\\u043A\\u0435\\u0440\\u044B\"})]})}),/*#__PURE__*/_jsx(GroupingToggle,{groupingType:groupingType,onGroupingChange:setGroupingType})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem',alignItems:'center',padding:'0.5rem',background:'rgba(244, 228, 193, 0.05)',borderRadius:'8px',border:'1px solid rgba(139, 69, 19, 0.2)',justifySelf:'end'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.7rem',color:'#f4e4c1',fontWeight:'bold',opacity:0.8,marginRight:'0.5rem'},children:\"\\uD83D\\uDD0D \\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"}),/*#__PURE__*/_jsx(FilterDropdown,{title:\"\\u0420\\u043E\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",items:allCategories,selectedItems:filters.categories,onSelectionChange:categories=>setFilters(prev=>({...prev,categories})),getItemColor:getCategoryColor,icon:/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})})}),/*#__PURE__*/_jsx(FilterDropdown,{title:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0441\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\",items:allCountries,selectedItems:filters.countries,onSelectionChange:countries=>setFilters(prev=>({...prev,countries})),icon:/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.7rem',display:'block',marginBottom:'0.2rem',color:'#f4e4c1'},children:\"\\u041E\\u0442:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:yearInputs.start,onChange:e=>setYearInputs(prev=>({...prev,start:e.target.value})),onBlur:e=>applyYearFilter('start',e.target.value),onKeyPress:e=>handleYearKeyPress('start',e),style:{width:'70px',padding:'0.4rem',border:'2px solid #8b4513',borderRadius:'4px',background:'rgba(44, 24, 16, 0.8)',color:'#f4e4c1',fontSize:'0.75rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.7rem',display:'block',marginBottom:'0.2rem',color:'#f4e4c1'},children:\"\\u0414\\u043E:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:yearInputs.end,onChange:e=>setYearInputs(prev=>({...prev,end:e.target.value})),onBlur:e=>applyYearFilter('end',e.target.value),onKeyPress:e=>handleYearKeyPress('end',e),style:{width:'70px',padding:'0.4rem',border:'2px solid #8b4513',borderRadius:'4px',background:'rgba(44, 24, 16, 0.8)',color:'#f4e4c1',fontSize:'0.75rem'}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetAllFilters,className:\"filter-btn\",style:{background:'linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%)',fontSize:'0.75rem',padding:'0.4rem 0.8rem'},children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-container\",style:{position:'relative',height:'calc(100vh - 100px)',overflow:'auto',padding:'1rem 0 2rem 0'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'0',left:'0',width:`${timelineWidth}px`,height:`${totalHeight+200}px`,pointerEvents:'none',zIndex:1},children:centuryBoundaries.map((year,index)=>{const nextYear=centuryBoundaries[index+1]||year+100;const startPos=getPosition(year);const endPos=getPosition(nextYear);const width=endPos-startPos;// –í—ã—á–∏—Å–ª—è–µ–º –≤–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ü–µ–Ω—Ç—Ä–∞ –≥–æ–¥–∞ –≤ —Å—Ç–æ–ª–µ—Ç–∏–∏\nconst centerYear=year+50;const centuryNumber=getCenturyNumber(centerYear);// –î–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ–∫–æ–≤ –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞–∫ –º–∏–Ω—É—Å\nconst isNegativeCentury=year<0;const romanNumeral=isNegativeCentury?`-${toRomanNumeral(Math.abs(centuryNumber))}`:toRomanNumeral(centuryNumber);return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:`${startPos}px`,width:`${width}px`,height:'100%',background:getCenturyColor(year),opacity:0.3,zIndex:1},children:/*#__PURE__*/_jsx(\"div\",{className:\"century-label\",style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',fontSize:'2rem',fontWeight:'bold',color:'rgba(244, 228, 193, 0.6)',textShadow:'2px 2px 4px rgba(0, 0, 0, 0.8)',pointerEvents:'none',zIndex:2,fontFamily:'serif'},children:romanNumeral})},`century-bg-${year}`);})}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'0',left:'0',width:`${timelineWidth}px`,height:`${totalHeight+200}px`,pointerEvents:'none',zIndex:5},children:centuryBoundaries.map(year=>/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:`${getPosition(year)}px`,width:'2px',height:'100%',background:'linear-gradient(to bottom, #cd853f 0%, #cd853f 20%, rgba(205, 133, 63, 0.3) 100%)',zIndex:5}},`century-line-${year}`))}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'0',left:'0',width:`${timelineWidth}px`,height:`${totalHeight+200}px`,pointerEvents:'none',zIndex:8},children:categoryDividers.map(divider=>/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:`${divider.top}px`,left:'0',width:'100%',height:'10px',background:`linear-gradient(to right, transparent 0%, ${getGroupColor(divider.category)} 20%, ${getGroupColor(divider.category)} 80%, transparent 100%)`,opacity:0.6,zIndex:8},children:/*#__PURE__*/_jsx(\"div\",{className:\"category-label\",style:{position:'absolute',left:'20px',top:'50%',transform:'translateY(-50%)',background:getGroupColor(divider.category),color:'white',padding:'2px 8px',borderRadius:'4px',fontSize:'0.7rem',fontWeight:'bold',whiteSpace:'nowrap',zIndex:9},children:divider.category})},`category-divider-${divider.category}`))}),/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',width:`${timelineWidth}px`,height:`${totalHeight+60}px`,zIndex:10},children:rowPlacement.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',height:row.length===0?'20px':'60px',marginBottom:row.length===0?'0px':'10px'},children:row.map(person=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',left:`${getPosition(person.birthYear)}px`,top:0,fontSize:'11px',color:'rgba(244, 228, 193, 0.6)',fontStyle:'italic',fontWeight:400,transform:'translateX(-100%) translateY(-10px)'},children:person.birthYear}),person.reignStart&&/*#__PURE__*/_jsxs(\"span\",{className:\"reign-label\",style:{position:'absolute',left:`${getPosition(person.reignStart)}px`,top:0,fontSize:'11px',color:'#E57373',// –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π\nfontStyle:'italic',fontWeight:'bold',transform:'translateX(-100%) translateY(-22px)'},children:[\"\\uD83D\\uDC51 \",person.reignStart]}),person.reignEnd&&/*#__PURE__*/_jsx(\"span\",{className:\"reign-label\",style:{position:'absolute',left:`${getPosition(person.reignEnd)}px`,top:0,fontSize:'11px',color:'#E57373',// –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π\nfontStyle:'italic',fontWeight:'bold',transform:'translateY(-22px)'},children:person.reignEnd}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',left:`${getPosition(person.deathYear)}px`,top:0,fontSize:'11px',color:'rgba(244, 228, 193, 0.6)',fontStyle:'italic',fontWeight:400,transform:'translateY(-10px)'},children:person.deathYear}),filters.showAchievements&&[person.achievementYear1,person.achievementYear2,person.achievementYear3].filter(year=>year!==undefined&&year!==null).map((year,index)=>{return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:`${getPosition(year)}px`,top:'-4px',width:'2px',height:'15px',backgroundColor:getCategoryColorDark(person.category),zIndex:(activeAchievementMarker===null||activeAchievementMarker===void 0?void 0:activeAchievementMarker.personId)===person.id&&(activeAchievementMarker===null||activeAchievementMarker===void 0?void 0:activeAchievementMarker.index)===index?10:3,transform:'translateX(-50%)',cursor:'pointer',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=getGroupColor(getPersonGroup(person));e.currentTarget.style.boxShadow=`0 0 3px ${getGroupColor(getPersonGroup(person))}`;// –ù–∞—Ö–æ–¥–∏–º span –≤–Ω—É—Ç—Ä–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –µ–≥–æ —Å—Ç–∏–ª–∏\nconst span=e.currentTarget.querySelector('span');if(span){span.style.backgroundColor='rgba(44, 24, 16, 0.95)';span.style.borderColor=getGroupColor(getPersonGroup(person));span.style.color=getGroupColor(getPersonGroup(person));span.style.fontSize='9px';span.style.padding='2px 4px';span.style.borderRadius='3px';}// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä–∫–µ—Ä\nsetActiveAchievementMarker({personId:person.id,index});// –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å\nif(hoverTimerRef.current){clearTimeout(hoverTimerRef.current);}// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –ø–æ–∫–∞–∑–∞ tooltip\nhoverTimerRef.current=setTimeout(()=>{setHoveredAchievement({person,year:year,index});setAchievementTooltipPosition({x:e.clientX,y:e.clientY});setShowAchievementTooltip(true);},500);},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=getCategoryColorDark(person.category);e.currentTarget.style.boxShadow='none';// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∏–ª–∏ span –∫ –∏—Å—Ö–æ–¥–Ω—ã–º\nconst span=e.currentTarget.querySelector('span');if(span){span.style.backgroundColor='rgba(44, 24, 16, 0.9)';span.style.borderColor=getGroupColorDark(getPersonGroup(person));span.style.color=getGroupColorDark(getPersonGroup(person));span.style.fontSize='8px';span.style.padding='1px 3px';span.style.borderRadius='2px';}// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä–∫–µ—Ä\nsetActiveAchievementMarker(null);// –û—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä –∏ —Å–∫—Ä—ã–≤–∞–µ–º tooltip\nif(hoverTimerRef.current){clearTimeout(hoverTimerRef.current);hoverTimerRef.current=null;}setShowAchievementTooltip(false);setHoveredAchievement(null);},onMouseMove:e=>{setAchievementTooltipPosition({x:e.clientX,y:e.clientY});},onMouseOut:e=>{// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ onMouseLeave –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª\nif(!e.currentTarget.contains(e.relatedTarget)){setActiveAchievementMarker(null);if(hoverTimerRef.current){clearTimeout(hoverTimerRef.current);hoverTimerRef.current=null;}setShowAchievementTooltip(false);setHoveredAchievement(null);}},children:/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-12px',left:'50%',transform:'translateX(-50%)',fontSize:'8px',color:getGroupColorDark(getPersonGroup(person)),fontWeight:'bold',whiteSpace:'nowrap',backgroundColor:'rgba(44, 24, 16, 0.9)',padding:'1px 3px',borderRadius:'2px',border:`1px solid ${getGroupColorDark(getPersonGroup(person))}`,transition:'all 0.2s ease'},children:year})},index);}),person.reignStart&&person.reignEnd&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-15px',left:`${getPosition(person.reignStart)}px`,width:`${getWidth(person.reignStart,person.reignEnd)}px`,height:'65px',backgroundColor:'rgba(211, 47, 47, 0.25)',pointerEvents:'none',borderLeft:'2px solid #D32F2F',borderRight:'2px solid #D32F2F',borderRadius:'3px',zIndex:1}}),/*#__PURE__*/_jsx(\"div\",{className:\"life-bar\",style:{position:'absolute',top:'10px',left:`${getPosition(person.birthYear)}px`,width:`${getWidth(person.birthYear,person.deathYear)}px`,height:'40px',background:`linear-gradient(135deg, ${getGroupColorMuted(getPersonGroup(person))} 0%, #6a5a3a 100%)`,borderRadius:'6px',cursor:'pointer',display:'flex',alignItems:'center',padding:'0 12px',color:'white',fontSize:'14px',fontWeight:'bold',minWidth:'60px',boxShadow:'0 2px 8px rgba(0,0,0,0.15)',border:'1.5px solid #a8926a',opacity:1,zIndex:5},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-3px) scale(1.02)';e.currentTarget.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.4)';e.currentTarget.style.borderColor='rgba(255, 255, 255, 0.4)';setHoveredPerson(person);setMousePosition({x:e.clientX,y:e.clientY});setTimeout(()=>setShowTooltip(true),300);},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='0 4px 12px rgba(0, 0, 0, 0.3)';e.currentTarget.style.borderColor='rgba(255, 255, 255, 0.2)';setHoveredPerson(null);setShowTooltip(false);},onMouseMove:e=>{setMousePosition({x:e.clientX,y:e.clientY});},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',lineHeight:'1.2'},children:/*#__PURE__*/_jsx(\"span\",{children:person.name})})})]},person.id))},rowIndex))})]})]}),hoveredPerson&&showTooltip&&/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip\",style:{position:'fixed',left:`${mousePosition.x+15}px`,top:`${mousePosition.y-10}px`,padding:'1rem',zIndex:1000,maxWidth:'300px',minWidth:'250px',color:'#f4e4c1',pointerEvents:'none',opacity:0,transform:'translateY(10px) scale(0.95)',animation:'tooltipFadeIn 0.2s ease-out forwards'},children:[hoveredPerson.imageUrl&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'0.75rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{src:hoveredPerson.imageUrl,alt:hoveredPerson.name,style:{width:'80px',height:'80px',borderRadius:'50%',objectFit:'cover',border:`2px solid ${getGroupColor(getPersonGroup(hoveredPerson))}`,boxShadow:'0 2px 8px rgba(0, 0, 0, 0.3)'},onError:e=>{// –°–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å\ne.currentTarget.style.display='none';}})}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 0.5rem 0',color:getGroupColor(getPersonGroup(hoveredPerson)),fontSize:'1.1rem',fontWeight:'bold'},children:hoveredPerson.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.85rem',lineHeight:'1.4'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0.25rem 0',fontWeight:'bold'},children:[hoveredPerson.birthYear,\" - \",hoveredPerson.deathYear]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0.25rem 0'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:getCategoryColor(hoveredPerson.category),fontWeight:'bold'},children:hoveredPerson.category}),\" \\u2022 \",hoveredPerson.country]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.5rem 0',fontStyle:'italic',opacity:0.8},children:hoveredPerson.description}),filters.showAchievements&&[hoveredPerson.achievementYear1,hoveredPerson.achievementYear2,hoveredPerson.achievementYear3].filter(year=>year!==undefined&&year!==null).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:'0.8rem',color:getGroupColor(getPersonGroup(hoveredPerson))},children:\"\\uD83C\\uDFAF \\u041A\\u043B\\u044E\\u0447\\u0435\\u0432\\u044B\\u0435 \\u0434\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'0.25rem 0 0 0',fontSize:'0.8rem'},children:[hoveredPerson.achievementYear1,hoveredPerson.achievementYear2,hoveredPerson.achievementYear3].filter(year=>year!==undefined&&year!==null).map((year,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.1rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:getGroupColor(getPersonGroup(hoveredPerson)),fontWeight:'bold',fontSize:'0.75rem'},children:year}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem'},children:hoveredPerson.achievements[index]||'–ö–ª—é—á–µ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ'})]},index))})]})]})]}),hoveredAchievement&&showAchievementTooltip&&/*#__PURE__*/_jsx(\"div\",{className:\"achievement-tooltip\",style:{position:'fixed',left:`${achievementTooltipPosition.x+15}px`,top:`${achievementTooltipPosition.y-10}px`,padding:'0.75rem',zIndex:1001,maxWidth:'250px',minWidth:'200px',color:'#f4e4c1',pointerEvents:'none',opacity:0,transform:'translateY(10px) scale(0.95)',animation:'tooltipFadeIn 0.2s ease-out forwards',backgroundColor:'rgba(44, 24, 16, 0.95)',borderRadius:'6px',border:`2px solid ${getGroupColor(getPersonGroup(hoveredAchievement.person))}`,boxShadow:'0 4px 12px rgba(0, 0, 0, 0.3)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.85rem',lineHeight:'1.4'},children:[hoveredAchievement.person.imageUrl&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'0.5rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{src:hoveredAchievement.person.imageUrl,alt:hoveredAchievement.person.name,style:{width:'50px',height:'50px',borderRadius:'50%',objectFit:'cover',border:`2px solid ${getGroupColor(getPersonGroup(hoveredAchievement.person))}`,boxShadow:'0 2px 6px rgba(0, 0, 0, 0.3)'},onError:e=>{// –°–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å\ne.currentTarget.style.display='none';}})}),/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 0.5rem 0',color:getGroupColor(getPersonGroup(hoveredAchievement.person)),fontSize:'1rem',fontWeight:'bold'},children:hoveredAchievement.person.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0.25rem 0',fontWeight:'bold',color:getGroupColor(getPersonGroup(hoveredAchievement.person)),fontSize:'0.9rem'},children:[\"\\uD83C\\uDFAF \",hoveredAchievement.year]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.25rem 0',fontSize:'0.8rem',fontStyle:'italic'},children:hoveredAchievement.person.achievements[hoveredAchievement.index]||'–ö–ª—é—á–µ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ'})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","getPersons","getCategories","getCountries","getCategoryColor","getCategoryColorDark","getCategoryColorMuted","jsxs","_jsxs","jsx","_jsx","FilterDropdown","_ref","title","items","selectedItems","onSelectionChange","getItemColor","icon","isActive","length","className","children","style","minWidth","display","alignItems","gap","padding","borderBottom","onClick","e","stopPropagation","marginRight","background","color","border","borderRadius","cursor","fontSize","map","item","type","checked","includes","onChange","target","filter","i","fontWeight","GroupingToggle","_ref2","groupingType","onGroupingChange","value","label","option","transition","onMouseEnter","currentTarget","onMouseLeave","App","hoveredPerson","setHoveredPerson","mousePosition","setMousePosition","x","y","showTooltip","setShowTooltip","hoveredAchievement","setHoveredAchievement","achievementTooltipPosition","setAchievementTooltipPosition","showAchievementTooltip","setShowAchievementTooltip","isScrolled","setIsScrolled","activeAchievementMarker","setActiveAchievementMarker","hoverTimerRef","filters","setFilters","savedFilters","localStorage","getItem","parsed","JSON","parse","categories","countries","timeRange","start","end","showAchievements","undefined","setGroupingType","savedGrouping","setItem","stringify","current","clearTimeout","persons","setPersons","allCategories","setAllCategories","allCountries","setAllCountries","isLoading","setIsLoading","yearInputs","setYearInputs","toString","applyYearFilter","field","numValue","parseInt","prev","handleYearKeyPress","key","_e$currentTarget$pare","_e$currentTarget$pare2","inputs","parentElement","querySelectorAll","currentIndex","Array","from","indexOf","nextInput","focus","resetAllFilters","fetchData","filtersToApply","category","join","country","startYear","endYear","personsData","categoriesData","countriesData","Promise","all","error","console","getCategoryPriority","getGroupColor","groupName","countryColors","index","getGroupColorDark","countryColorsDark","getGroupColorMuted","countryColorsMuted","getFirstCountry","countryString","split","c","trim","getPersonGroup","person","sortedData","sort","a","b","categoryDiff","countryDiff","birthYear","handleScroll","scrollTop","window","pageYOffset","document","documentElement","addEventListener","removeEventListener","minYear","Math","min","p","maxYear","max","deathYear","totalYears","pixelsPerYear","LEFT_PADDING_PX","timelineWidth","getPosition","year","getWidth","generateCenturyBoundaries","boundaries","startCentury","floor","endCentury","ceil","push","centuryBoundaries","getCenturyColor","colors","centuryIndex","toRomanNumeral","num","romanNumerals","numeral","result","remaining","abs","getCenturyNumber","calculateRowPlacement","people","rows","allRows","forEach","placed","rowIndex","row","canPlaceInRow","existingPerson","BUFFER","groupField","allGroups","groups","groupValue","groupPeople","groupRows","rowPlacement","totalHeight","reduce","height","ROW_HEIGHT","ROW_MARGIN","EMPTY_ROW_HEIGHT","rowTops","acc","createCategoryDividers","dividers","currentGroup","firstPersonInRow","currentGroupValue","top","categoryDividers","gridTemplateColumns","position","width","margin","justifySelf","opacity","accentColor","viewBox","fill","d","marginBottom","onBlur","onKeyPress","overflow","left","pointerEvents","zIndex","nextYear","startPos","endPos","centerYear","centuryNumber","isNegativeCentury","romanNumeral","transform","textShadow","fontFamily","divider","whiteSpace","Fragment","fontStyle","reignStart","reignEnd","achievementYear1","achievementYear2","achievementYear3","backgroundColor","personId","id","boxShadow","span","querySelector","borderColor","setTimeout","clientX","clientY","onMouseMove","onMouseOut","contains","relatedTarget","borderLeft","borderRight","flexDirection","lineHeight","name","maxWidth","animation","imageUrl","textAlign","src","alt","objectFit","onError","description","marginTop","achievements"],"sources":["C:/Users/Selecty/Documents/PetProjects/chronoline-frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Person } from './types'\nimport { getPersons, getCategories, getCountries } from './services/api'\nimport { getCategoryColor, getCategoryColorDark, getCategoryColorMuted } from './utils/categoryColors'\nimport './App.css'\n\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞\nconst FilterDropdown = ({ \n  title, \n  items, \n  selectedItems, \n  onSelectionChange, \n  getItemColor,\n  icon\n}: {\n  title: string\n  items: string[]\n  selectedItems: string[]\n  onSelectionChange: (items: string[]) => void\n  getItemColor?: (item: string) => string\n  icon?: React.ReactNode\n}) => {\n  const isActive = selectedItems.length > 0\n  \n  return (\n    <div className=\"filter-dropdown\">\n      <button \n        className={`filter-btn ${isActive ? 'active' : ''}`}\n        style={{ minWidth: '150px', display: 'flex', alignItems: 'center', gap: '0.5rem' }}\n      >\n        {icon}\n        {title} {isActive && `(${selectedItems.length})`}\n      </button>\n      <div className=\"filter-dropdown-content\">\n        <div style={{ padding: '0.5rem', borderBottom: '1px solid rgba(139, 69, 19, 0.3)' }}>\n          <button\n            onClick={(e) => {\n              e.stopPropagation()\n              onSelectionChange(items)\n            }}\n            style={{\n              padding: '0.25rem 0.5rem',\n              marginRight: '0.5rem',\n              background: '#27ae60',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '0.7rem'\n            }}\n          >\n            –í—ã–±—Ä–∞—Ç—å –≤—Å–µ\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation()\n              onSelectionChange([])\n            }}\n            style={{\n              padding: '0.25rem 0.5rem',\n              background: '#e74c3c',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '0.7rem'\n            }}\n          >\n            –°–Ω—è—Ç—å –≤—Å–µ\n          </button>\n        </div>\n        {items.map(item => (\n          <label key={item} className=\"filter-checkbox\" onClick={(e) => e.stopPropagation()}>\n            <input\n              type=\"checkbox\"\n              checked={selectedItems.includes(item)}\n              onChange={(e) => {\n                e.stopPropagation()\n                if (e.target.checked) {\n                  onSelectionChange([...selectedItems, item])\n                } else {\n                  onSelectionChange(selectedItems.filter(i => i !== item))\n                }\n              }}\n            />\n            <span style={{ \n              color: getItemColor ? getItemColor(item) : '#f4e4c1',\n              fontWeight: getItemColor ? 'bold' : 'normal'\n            }}>\n              {item}\n            </span>\n          </label>\n        ))}\n      </div>\n    </div>\n  )\n}\n\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏\nconst GroupingToggle = ({ \n  groupingType, \n  onGroupingChange \n}: {\n  groupingType: 'category' | 'country' | 'none'\n  onGroupingChange: (type: 'category' | 'country' | 'none') => void\n}) => {\n  return (\n    <div className=\"grouping-toggle\" style={{\n      display: 'flex',\n      alignItems: 'center',\n      gap: '0.4rem',\n      padding: '0.4rem',\n      background: 'rgba(244, 228, 193, 0.1)',\n      borderRadius: '6px',\n      border: '1px solid rgba(139, 69, 19, 0.3)'\n    }}>\n      <span style={{ \n        fontSize: '0.8rem', \n        color: '#f4e4c1',\n        fontWeight: 'bold'\n      }}>\n        –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:\n      </span>\n      <div style={{ display: 'flex', gap: '0.25rem' }}>\n        {[\n          { value: 'category' as const, label: '–ü–æ —Ä–æ–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏', icon: 'üé≠' },\n          { value: 'country' as const, label: '–ü–æ —Å—Ç—Ä–∞–Ω–∞–º', icon: 'üåç' },\n          { value: 'none' as const, label: '–ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏', icon: 'üìä' }\n        ].map((option) => (\n          <button\n            key={option.value}\n            onClick={() => onGroupingChange(option.value)}\n            style={{\n              padding: '0.4rem 0.6rem',\n              background: groupingType === option.value ? '#cd853f' : 'rgba(244, 228, 193, 0.1)',\n              color: groupingType === option.value ? '#2c1810' : '#f4e4c1',\n              border: '1px solid rgba(139, 69, 19, 0.3)',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '0.75rem',\n              fontWeight: groupingType === option.value ? 'bold' : 'normal',\n              transition: 'all 0.2s ease',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.2rem'\n            }}\n            onMouseEnter={(e) => {\n              if (groupingType !== option.value) {\n                e.currentTarget.style.background = 'rgba(205, 133, 63, 0.3)';\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (groupingType !== option.value) {\n                e.currentTarget.style.background = 'rgba(244, 228, 193, 0.1)';\n              }\n            }}\n          >\n            <span>{option.icon}</span>\n            <span>{option.label}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\n\nfunction App() {\n\n  const [hoveredPerson, setHoveredPerson] = useState<Person | null>(null)\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 })\n  const [showTooltip, setShowTooltip] = useState(false)\n  const [hoveredAchievement, setHoveredAchievement] = useState<{ person: Person; year: number; index: number } | null>(null)\n  const [achievementTooltipPosition, setAchievementTooltipPosition] = useState({ x: 0, y: 0 })\n  const [showAchievementTooltip, setShowAchievementTooltip] = useState(false)\n  const [isScrolled, setIsScrolled] = useState(false)\n  const [activeAchievementMarker, setActiveAchievementMarker] = useState<{ personId: string; index: number } | null>(null)\n  const hoverTimerRef = useRef<NodeJS.Timeout | null>(null)\n  const [filters, setFilters] = useState(() => {\n    const savedFilters = localStorage.getItem('chronoline-filters');\n    if (savedFilters) {\n      const parsed = JSON.parse(savedFilters);\n      return {\n        categories: parsed.categories || [],\n        countries: parsed.countries || [],\n        timeRange: parsed.timeRange || { start: -800, end: 2000 },\n        showAchievements: parsed.showAchievements !== undefined ? parsed.showAchievements : true\n      };\n    }\n    return {\n      categories: [] as string[],\n      countries: [] as string[],\n      timeRange: { start: -800, end: 2000 },\n      showAchievements: true\n    };\n  })\n\n  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç–∏–ø–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏\n  const [groupingType, setGroupingType] = useState<'category' | 'country' | 'none'>(() => {\n    const savedGrouping = localStorage.getItem('chronoline-grouping');\n    return savedGrouping as 'category' | 'country' | 'none' || 'category';\n  })\n\n  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\n  useEffect(() => {\n    localStorage.setItem('chronoline-filters', JSON.stringify(filters));\n  }, [filters]);\n\n  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–∏–ø –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\n  useEffect(() => {\n    localStorage.setItem('chronoline-grouping', groupingType);\n  }, [groupingType]);\n\n  // –û—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n  useEffect(() => {\n    return () => {\n      if (hoverTimerRef.current) {\n        clearTimeout(hoverTimerRef.current);\n      }\n    };\n  }, []);\n  const [persons, setPersons] = useState<Person[]>([])\n  const [allCategories, setAllCategories] = useState<string[]>([])\n  const [allCountries, setAllCountries] = useState<string[]>([])\n  const [isLoading, setIsLoading] = useState(true);\n\n  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –≥–æ–¥–æ–≤\n  const [yearInputs, setYearInputs] = useState({\n    start: filters.timeRange.start.toString(),\n    end: filters.timeRange.end.toString()\n  })\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –≥–æ–¥—É\n  const applyYearFilter = (field: 'start' | 'end', value: string) => {\n    const numValue = parseInt(value) || (field === 'start' ? -800 : 2000)\n    setFilters(prev => ({\n      ...prev,\n      timeRange: { ...prev.timeRange, [field]: numValue }\n    }))\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏—è Enter\n  const handleYearKeyPress = (field: 'start' | 'end', e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      applyYearFilter(field, e.currentTarget.value)\n      // –ü–µ—Ä–µ–≤–æ–¥–∏–º —Ñ–æ–∫—É—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç\n      const inputs = e.currentTarget.parentElement?.parentElement?.querySelectorAll('input')\n      if (inputs) {\n        const currentIndex = Array.from(inputs).indexOf(e.currentTarget)\n        const nextInput = inputs[currentIndex + 1] as HTMLInputElement\n        if (nextInput) {\n          nextInput.focus()\n        }\n      }\n    }\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤\n  const resetAllFilters = () => {\n    setFilters({\n      categories: [],\n      countries: [],\n      timeRange: { start: -800, end: 2000 },\n      showAchievements: true\n    })\n    setYearInputs({\n      start: '-800',\n      end: '2000'\n    })\n  }\n\n\n  // –ï–¥–∏–Ω—ã–π useEffect –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n\n        // –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞\n        const filtersToApply: any = {};\n        if (filters.categories.length > 0) {\n          filtersToApply.category = filters.categories.join(',');\n        }\n        if (filters.countries.length > 0) {\n          filtersToApply.country = filters.countries.join(',');\n        }\n        filtersToApply.startYear = filters.timeRange.start;\n        filtersToApply.endYear = filters.timeRange.end;\n\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä—Å–æ–Ω —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤\n        const personsData = await getPersons(filtersToApply);\n        setPersons(personsData);\n\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç—Ä–∞–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã\n        if (allCategories.length === 0 || allCountries.length === 0) {\n          const [categoriesData, countriesData] = await Promise.all([\n            getCategories(),\n            getCountries()\n          ]);\n          setAllCategories(categoriesData);\n          setAllCountries(countriesData);\n        }\n      } catch (error) {\n        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [filters, allCategories.length, allCountries.length]); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤\n\n    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  const getCategoryPriority = (category: string) => {\n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ API, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–µ\n    return allCategories.indexOf(category)\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏\n  const getGroupColor = (groupName: string) => {\n    if (groupingType === 'category') {\n      return getCategoryColor(groupName)\n    } else if (groupingType === 'country') {\n      // –î–ª—è —Å—Ç—Ä–∞–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥—Ä—É–≥–æ–π –Ω–∞–±–æ—Ä —Ü–≤–µ—Ç–æ–≤\n      const countryColors = [\n        '#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6',\n        '#1abc9c', '#e67e22', '#34495e', '#16a085', '#8e44ad',\n        '#27ae60', '#2980b9', '#f1c40f', '#e74c3c', '#95a5a6'\n      ]\n      const index = allCountries.indexOf(groupName)\n      return countryColors[index % countryColors.length]\n    }\n    return '#95a5a6' // —Å–µ—Ä—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø—ã (—Ç–µ–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)\n  const getGroupColorDark = (groupName: string) => {\n    if (groupingType === 'category') {\n      return getCategoryColorDark(groupName)\n    } else if (groupingType === 'country') {\n      // –î–ª—è —Å—Ç—Ä–∞–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–º–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–æ–≤\n      const countryColorsDark = [\n        '#c0392b', '#2980b9', '#27ae60', '#d68910', '#8e44ad',\n        '#16a085', '#d35400', '#2c3e50', '#138d75', '#7d3c98',\n        '#229954', '#1f618d', '#d4ac0f', '#c0392b', '#7f8c8d'\n      ]\n      const index = allCountries.indexOf(groupName)\n      return countryColorsDark[index % countryColorsDark.length]\n    }\n    return '#7f8c8d' // —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≥—Ä—É–ø–ø—ã (–ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)\n  const getGroupColorMuted = (groupName: string) => {\n    if (groupingType === 'category') {\n      return getCategoryColorMuted(groupName)\n    } else if (groupingType === 'country') {\n      // –î–ª—è —Å—Ç—Ä–∞–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–æ–≤\n      const countryColorsMuted = [\n        '#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6',\n        '#1abc9c', '#e67e22', '#34495e', '#16a085', '#8e44ad',\n        '#27ae60', '#2980b9', '#f1c40f', '#e74c3c', '#95a5a6'\n      ]\n      const index = allCountries.indexOf(groupName)\n      return countryColorsMuted[index % countryColorsMuted.length]\n    }\n    return '#95a5a6' // —Å–µ—Ä—ã–π —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n  }\n\n  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω—ã –∏–∑ —Å–ø–∏—Å–∫–∞\n  const getFirstCountry = (countryString: string): string => {\n    const countries = countryString.split('/').map(c => c.trim())\n    return countries[0] || countryString\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\n  const getPersonGroup = (person: Person) => {\n    if (groupingType === 'category') {\n      return person.category\n    } else if (groupingType === 'country') {\n      return getFirstCountry(person.country)\n    }\n    return person.category // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (—Ç–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ, –Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è)\n  const sortedData = [...persons].sort((a, b) => {\n    if (groupingType === 'category') {\n      // –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\n      const categoryDiff = getCategoryPriority(a.category) - getCategoryPriority(b.category)\n      if (categoryDiff !== 0) {\n        return categoryDiff\n      }\n    } else if (groupingType === 'country') {\n      // –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Å—Ç—Ä–∞–Ω–∞–º (–±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω—É –∏–∑ —Å–ø–∏—Å–∫–∞)\n      const countryDiff = allCountries.indexOf(getFirstCountry(a.country)) - allCountries.indexOf(getFirstCountry(b.country))\n      if (countryDiff !== 0) {\n        return countryDiff\n      }\n    }\n    // –ó–∞—Ç–µ–º –ø–æ –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è\n    return a.birthYear - b.birthYear\n  })\n\n  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n      setIsScrolled(scrollTop > 50)\n    }\n\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n\n\n\n  // –í—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –ª–µ—Ç –∏–∑ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n  const minYear = Math.min(...sortedData.map(p => p.birthYear), filters.timeRange.start)\n  const maxYear = Math.max(...sortedData.map(p => p.deathYear), filters.timeRange.end)\n  const totalYears = maxYear - minYear\n\n  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Å—à—Ç–∞–±–∞\n  const pixelsPerYear = 3 // 3 –ø–∏–∫—Å–µ–ª—è –Ω–∞ –≥–æ–¥\n  const LEFT_PADDING_PX = 30 // –æ—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã –∫—Ä–∞–π–Ω—è—è –ª–µ–≤–∞—è –ø–æ–¥–ø–∏—Å—å –Ω–µ —É–ø–∏—Ä–∞–ª–∞—Å—å –≤ –∫—Ä–∞–π\n  const timelineWidth = totalYears * pixelsPerYear + LEFT_PADDING_PX\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö\n  const getPosition = (year: number) => {\n    return LEFT_PADDING_PX + (year - minYear) * pixelsPerYear\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã –ø–æ–ª–æ—Å–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö\n  const getWidth = (birthYear: number, deathYear: number) => {\n    return (deathYear - birthYear) * pixelsPerYear\n  }\n\n  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≥—Ä–∞–Ω–∏—Ü—ã –≤–µ–∫–æ–≤\n  const generateCenturyBoundaries = () => {\n    const boundaries = []\n    const startCentury = Math.floor(minYear / 100) * 100\n    const endCentury = Math.ceil(maxYear / 100) * 100\n    \n    for (let year = startCentury; year <= endCentury; year += 100) {\n      // –í–∫–ª—é—á–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É, –µ—Å–ª–∏ –æ–Ω–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —è–≤–ª—è–µ—Ç—Å—è –≥—Ä–∞–Ω–∏—Ü–µ–π –≤–µ–∫–∞\n      if (year <= maxYear) {\n        boundaries.push(year)\n      }\n    }\n    return boundaries\n  }\n\n  const centuryBoundaries = generateCenturyBoundaries()\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≤–µ–∫–∞\n  const getCenturyColor = (year: number) => {\n    const colors = [\n      'rgba(255, 107, 107, 0.1)', // –°–≤–µ—Ç–ª–æ-–∫—Ä–∞—Å–Ω—ã–π\n      'rgba(78, 205, 196, 0.1)', // –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π\n      'rgba(150, 206, 180, 0.1)', // –°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π\n      'rgba(255, 234, 167, 0.1)', // –°–≤–µ—Ç–ª–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π\n      'rgba(221, 160, 221, 0.1)', // –°–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π\n      'rgba(120, 219, 255, 0.1)', // –°–≤–µ—Ç–ª–æ-–±–∏—Ä—é–∑–æ–≤—ã–π\n      'rgba(255, 255, 229, 0.1)', // –°–≤–µ—Ç–ª–æ-–∂–µ–ª—Ç—ã–π\n      'rgba(255, 229, 240, 0.1)', // –°–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π\n    ]\n    \n    const centuryIndex = Math.floor((year - minYear) / 100)\n    return colors[centuryIndex % colors.length]\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Ä–∏–º—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã\n  const toRomanNumeral = (num: number): string => {\n    const romanNumerals = [\n      { value: 1000, numeral: 'M' },\n      { value: 900, numeral: 'CM' },\n      { value: 500, numeral: 'D' },\n      { value: 400, numeral: 'CD' },\n      { value: 100, numeral: 'C' },\n      { value: 90, numeral: 'XC' },\n      { value: 50, numeral: 'L' },\n      { value: 40, numeral: 'XL' },\n      { value: 10, numeral: 'X' },\n      { value: 9, numeral: 'IX' },\n      { value: 5, numeral: 'V' },\n      { value: 4, numeral: 'IV' },\n      { value: 1, numeral: 'I' }\n    ]\n\n    let result = ''\n    let remaining = Math.abs(num)\n\n    for (const { value, numeral } of romanNumerals) {\n      while (remaining >= value) {\n        result += numeral\n        remaining -= value\n      }\n    }\n\n    return num < 0 ? `-${result}` : result\n  }\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –≤–µ–∫–∞\n  const getCenturyNumber = (year: number): number => {\n    if (year < 0) {\n      // –î–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –ª–µ—Ç: -1 –¥–æ -100 = 1 –≤–µ–∫ –¥–æ –Ω.—ç., -101 –¥–æ -200 = 2 –≤–µ–∫ –¥–æ –Ω.—ç.\n      return Math.floor((Math.abs(year) - 1) / 100) + 1\n    } else if (year === 0) {\n      // –ì–æ–¥ 0 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏\n      return 1\n    } else {\n      // –î–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–µ—Ç: 1-100 = 1 –≤–µ–∫, 101-200 = 2 –≤–µ–∫ –∏ —Ç.–¥.\n      return Math.floor((year - 1) / 100) + 1\n    }\n  }\n\n  // –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–æ–ª–æ—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö —Å –ø–æ–ª–Ω–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\n  const calculateRowPlacement = (people: Person[]) => {\n    const rows: Person[][] = []\n    \n    if (groupingType === 'none') {\n      // –ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ - –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–º–µ—â–∞–µ–º –≤—Å–µ—Ö –≤ —Å—Ç—Ä–æ–∫–∏\n      const allRows: Person[][] = []\n      \n      people.forEach(person => {\n        let placed = false\n        \n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–æ–∫—É\n        for (let rowIndex = 0; rowIndex < allRows.length; rowIndex++) {\n          const row = allRows[rowIndex]\n          let canPlaceInRow = true\n          \n          // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è –ª–∏ —Å –∫–µ–º-—Ç–æ –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\n          for (const existingPerson of row) {\n            const BUFFER = 20; // –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∑–æ—Ä –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–º–∏\n            if (\n              person.birthYear - BUFFER <= existingPerson.deathYear &&\n              person.deathYear + BUFFER >= existingPerson.birthYear\n            ) {\n              canPlaceInRow = false\n              break\n            }\n          }\n          \n          // –ï—Å–ª–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\n          if (canPlaceInRow) {\n            allRows[rowIndex].push(person)\n            placed = true\n            break\n          }\n        }\n        \n        // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é\n        if (!placed) {\n          allRows.push([person])\n        }\n      })\n      \n      return allRows\n    }\n    \n    // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∞–º\n    const groupField = groupingType === 'category' ? 'category' : 'country'\n    const allGroups = groupingType === 'category' ? allCategories : allCountries\n    const groups: { [key: string]: Person[] } = {}\n    \n    // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ª—é–¥–µ–π –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø–æ–ª—é\n    people.forEach(person => {\n      let groupValue: string\n      if (groupField === 'country') {\n        // –î–ª—è —Å—Ç—Ä–∞–Ω –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –∏–∑ —Å–ø–∏—Å–∫–∞, –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ \"/\"\n        groupValue = getFirstCountry(person.country)\n      } else {\n        groupValue = person[groupField]\n      }\n      \n      if (!groups[groupValue]) {\n        groups[groupValue] = []\n      }\n      groups[groupValue].push(person)\n    })\n    \n    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n    allGroups.forEach(groupValue => {\n      if (groups[groupValue]) {\n        const groupPeople = groups[groupValue]\n        const groupRows: Person[][] = []\n        \n        // –†–∞–∑–º–µ—â–∞–µ–º –ª—é–¥–µ–π –¥–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏\n        groupPeople.forEach(person => {\n          let placed = false\n          \n          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã\n          for (let rowIndex = 0; rowIndex < groupRows.length; rowIndex++) {\n            const row = groupRows[rowIndex]\n            let canPlaceInRow = true\n            \n            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è –ª–∏ —Å –∫–µ–º-—Ç–æ –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\n            for (const existingPerson of row) {\n              const BUFFER = 20; // –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∑–æ—Ä –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–º–∏\n              if (\n                person.birthYear - BUFFER <= existingPerson.deathYear &&\n                person.deathYear + BUFFER >= existingPerson.birthYear\n              ) {\n                canPlaceInRow = false\n                break\n              }\n            }\n            \n            // –ï—Å–ª–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ\n            if (canPlaceInRow) {\n              groupRows[rowIndex].push(person)\n              placed = true\n              break\n            }\n          }\n          \n          // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é\n          if (!placed) {\n            groupRows.push([person])\n          }\n        })\n        \n        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã –∫ –æ–±—â–µ–º—É —Å–ø–∏—Å–∫—É\n        rows.push(...groupRows)\n        \n        // –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥—Ä—É–ø–ø—ã)\n        if (groupValue !== allGroups[allGroups.length - 1]) {\n          rows.push([])\n        }\n      }\n    })\n    \n    return rows\n  }\n\n  // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º\n  const rowPlacement = calculateRowPlacement(sortedData)\n\n  // –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â—É—é –≤—ã—Å–æ—Ç—É —Å —É—á–µ—Ç–æ–º –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫\n  const totalHeight = rowPlacement.reduce((height, row) => {\n    return height + (row.length === 0 ? 20 : 70) // 20px –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫, 70px –¥–ª—è –æ–±—ã—á–Ω—ã—Ö (60px + 10px margin)\n  }, 0)\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n    // –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ –∏ –æ—Ç—Å—Ç—É–ø –≤–Ω–∏–∑ –¥–ª—è –Ω–µ–ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏\n  const ROW_HEIGHT = 60;\n  const ROW_MARGIN = 10; // margin-bottom, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫\n  const EMPTY_ROW_HEIGHT = 20;\n\n  // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π top –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏\n  const rowTops: number[] = [];\n  (() => {\n    let acc = 0;\n    rowPlacement.forEach(row => {\n      rowTops.push(acc);\n      if (row.length === 0) {\n        acc += EMPTY_ROW_HEIGHT;\n      } else {\n        acc += ROW_HEIGHT + ROW_MARGIN;\n      }\n    });\n  })();\n\n  const createCategoryDividers = () => {\n    if (groupingType === 'none') {\n      return []; // –ë–µ–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π\n    }\n\n    const dividers: { category: string; top: number }[] = [];\n    let currentGroup = '';\n\n    rowPlacement.forEach((row, rowIndex) => {\n      if (row.length > 0) {\n        const firstPersonInRow = row[0];\n        let currentGroupValue: string;\n        \n        if (groupingType === 'category') {\n          currentGroupValue = firstPersonInRow.category;\n        } else if (groupingType === 'country') {\n          // –î–ª—è —Å—Ç—Ä–∞–Ω –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –∏–∑ —Å–ø–∏—Å–∫–∞\n          currentGroupValue = getFirstCountry(firstPersonInRow.country);\n        } else {\n          currentGroupValue = firstPersonInRow.category;\n        }\n        \n        if (currentGroupValue !== currentGroup) {\n          if (currentGroup !== '') {\n            // –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –≥—Ä—É–ø–ø—É\n            dividers.push({ category: currentGroup, top: rowTops[rowIndex] - 5 });\n          }\n          currentGroup = currentGroupValue;\n        }\n      }\n    });\n\n    // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥—Ä—É–ø–ø—ã\n    if (currentGroup !== '') {\n      dividers.push({ category: currentGroup, top: rowTops[rowPlacement.length - 1] - 5 });\n    }\n\n    return dividers;\n  };\n\n  const categoryDividers = createCategoryDividers();\n\n\n\n  return (\n    <div className=\"app\">\n      <header \n        className={`app-header ${isScrolled ? 'scrolled' : ''}`}\n        style={{\n          padding: isScrolled ? '0.5rem 1.5rem' : '0.75rem 1.5rem',\n          transition: 'all 0.3s ease'\n        }}\n      >\n        <div style={{ \n          display: 'grid', \n          gridTemplateColumns: '1fr auto 1fr',\n          alignItems: 'center',\n          gap: '1rem',\n          position: 'relative',\n          width: '100%'\n        }}>\n          {/* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –∑–∞–≥–æ–ª–æ–≤–æ–∫ */}\n          <h1 style={{ \n            fontSize: isScrolled ? '1.5rem' : '1.8rem',\n            margin: 0,\n            transition: 'font-size 0.3s ease',\n            fontWeight: 'bold',\n            color: '#f4e4c1',\n            justifySelf: 'start'\n          }}>\n            Chronoline\n          </h1>\n\n          {/* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */}\n          <div style={{\n            display: 'flex',\n            gap: '0.75rem',\n            alignItems: 'center',\n            padding: '0.5rem',\n            background: 'rgba(139, 69, 19, 0.05)',\n            borderRadius: '8px',\n            border: '1px solid rgba(139, 69, 19, 0.3)',\n            justifySelf: 'center'\n          }}>\n            <span style={{\n              fontSize: '0.7rem',\n              color: '#f4e4c1',\n              fontWeight: 'bold',\n              opacity: 0.8,\n              marginRight: '0.5rem'\n            }}>\n              ‚öôÔ∏è –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n            </span>\n            \n            {/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –º–∞—Ä–∫–µ—Ä–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */}\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '0.4rem',\n              padding: '0.4rem',\n              borderRadius: '4px',\n              background: filters.showAchievements ? 'rgba(255, 255, 255, 0.1)' : 'rgba(255, 255, 255, 0.05)',\n              border: `1px solid ${filters.showAchievements ? 'rgba(255, 255, 255, 0.3)' : 'rgba(255, 255, 255, 0.1)'}`,\n              transition: 'all 0.2s ease'\n            }}>\n              <label style={{ \n                fontSize: '0.75rem', \n                color: '#f4e4c1',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.4rem',\n                cursor: 'pointer',\n                margin: 0\n              }}>\n                <input\n                  type=\"checkbox\"\n                  checked={filters.showAchievements}\n                  onChange={(e) => setFilters(prev => ({ ...prev, showAchievements: e.target.checked }))}\n                  style={{ \n                    width: '14px', \n                    height: '14px',\n                    cursor: 'pointer',\n                    accentColor: '#f4e4c1'\n                  }}\n                />\n                <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ opacity: filters.showAchievements ? 1 : 0.5 }}>\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                </svg>\n                <span>–ú–∞—Ä–∫–µ—Ä—ã</span>\n              </label>\n            </div>\n\n            {/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ */}\n            <GroupingToggle \n              groupingType={groupingType}\n              onGroupingChange={setGroupingType}\n            />\n          </div>\n\n          {/* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - —Ñ–∏–ª—å—Ç—Ä—ã */}\n          <div style={{\n            display: 'flex',\n            gap: '0.75rem',\n            alignItems: 'center',\n            padding: '0.5rem',\n            background: 'rgba(244, 228, 193, 0.05)',\n            borderRadius: '8px',\n            border: '1px solid rgba(139, 69, 19, 0.2)',\n            justifySelf: 'end'\n          }}>\n            <span style={{\n              fontSize: '0.7rem',\n              color: '#f4e4c1',\n              fontWeight: 'bold',\n              opacity: 0.8,\n              marginRight: '0.5rem'\n            }}>\n              üîç –§–∏–ª—å—Ç—Ä—ã\n            </span>\n            <FilterDropdown\n              title=\"–†–æ–¥ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏\"\n              items={allCategories}\n              selectedItems={filters.categories}\n              onSelectionChange={(categories) => setFilters(prev => ({ ...prev, categories }))}\n              getItemColor={getCategoryColor}\n              icon={\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                </svg>\n              }\n            />\n            <FilterDropdown\n              title=\"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è\"\n              items={allCountries}\n              selectedItems={filters.countries}\n              onSelectionChange={(countries) => setFilters(prev => ({ ...prev, countries }))}\n              icon={\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </svg>\n              }\n            />\n            <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n              <div>\n                <label style={{ fontSize: '0.7rem', display: 'block', marginBottom: '0.2rem', color: '#f4e4c1' }}>\n                  –û—Ç:\n                </label>\n                <input\n                  type=\"number\"\n                  value={yearInputs.start}\n                  onChange={(e) => setYearInputs(prev => ({ ...prev, start: e.target.value }))}\n                  onBlur={(e) => applyYearFilter('start', e.target.value)}\n                  onKeyPress={(e) => handleYearKeyPress('start', e)}\n                  style={{\n                    width: '70px',\n                    padding: '0.4rem',\n                    border: '2px solid #8b4513',\n                    borderRadius: '4px',\n                    background: 'rgba(44, 24, 16, 0.8)',\n                    color: '#f4e4c1',\n                    fontSize: '0.75rem'\n                  }}\n                />\n              </div>\n              <div>\n                <label style={{ fontSize: '0.7rem', display: 'block', marginBottom: '0.2rem', color: '#f4e4c1' }}>\n                  –î–æ:\n                </label>\n                <input\n                  type=\"number\"\n                  value={yearInputs.end}\n                  onChange={(e) => setYearInputs(prev => ({ ...prev, end: e.target.value }))}\n                  onBlur={(e) => applyYearFilter('end', e.target.value)}\n                  onKeyPress={(e) => handleYearKeyPress('end', e)}\n                  style={{\n                    width: '70px',\n                    padding: '0.4rem',\n                    border: '2px solid #8b4513',\n                    borderRadius: '4px',\n                    background: 'rgba(44, 24, 16, 0.8)',\n                    color: '#f4e4c1',\n                    fontSize: '0.75rem'\n                  }}\n                />\n              </div>\n              <button\n                onClick={resetAllFilters}\n                className=\"filter-btn\"\n                style={{ background: 'linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%)', fontSize: '0.75rem', padding: '0.4rem 0.8rem' }}\n              >\n                –°–±—Ä–æ—Å–∏—Ç—å\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"app-main\">\n        {isLoading && (\n          <div className=\"loading-overlay\">\n            <div className=\"spinner\"></div>\n            <span>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</span>\n          </div>\n        )}\n        {/* –í—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */}\n        <div className=\"timeline-container\" style={{ \n          position: 'relative', \n          height: 'calc(100vh - 100px)',\n          overflow: 'auto',\n          padding: '1rem 0 2rem 0'\n        }}>\n\n          {/* –†–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω–∞—è –∑–∞–ª–∏–≤–∫–∞ –≤–µ–∫–æ–≤ */}\n          <div style={{\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 1\n          }}>\n            {centuryBoundaries.map((year, index) => {\n              const nextYear = centuryBoundaries[index + 1] || (year + 100)\n              const startPos = getPosition(year)\n              const endPos = getPosition(nextYear)\n              const width = endPos - startPos\n\n              // –í—ã—á–∏—Å–ª—è–µ–º –≤–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ü–µ–Ω—Ç—Ä–∞ –≥–æ–¥–∞ –≤ —Å—Ç–æ–ª–µ—Ç–∏–∏\n              const centerYear = year + 50\n              const centuryNumber = getCenturyNumber(centerYear)\n              // –î–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ–∫–æ–≤ –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞–∫ –º–∏–Ω—É—Å\n              const isNegativeCentury = year < 0\n              const romanNumeral = isNegativeCentury ? `-${toRomanNumeral(Math.abs(centuryNumber))}` : toRomanNumeral(centuryNumber)\n              \n              return (\n                <div key={`century-bg-${year}`} style={{\n                  position: 'absolute',\n                  left: `${startPos}px`,\n                  width: `${width}px`,\n                  height: '100%',\n                  background: getCenturyColor(year),\n                  opacity: 0.3,\n                  zIndex: 1\n                }}>\n                  {/* –†–∏–º—Å–∫–∞—è —Ü–∏—Ñ—Ä–∞ –≤–µ–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ */}\n                  <div className=\"century-label\" style={{\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    fontSize: '2rem',\n                    fontWeight: 'bold',\n                    color: 'rgba(244, 228, 193, 0.6)',\n                    textShadow: '2px 2px 4px rgba(0, 0, 0, 0.8)',\n                    pointerEvents: 'none',\n                    zIndex: 2,\n                    fontFamily: 'serif'\n                  }}>\n                    {romanNumeral}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n\n          {/* –ì—Ä–∞–Ω–∏—Ü—ã –≤–µ–∫–æ–≤ –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É */}\n          <div style={{\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 5\n          }}>\n            {centuryBoundaries.map((year) => (\n              <div key={`century-line-${year}`} style={{\n                position: 'absolute',\n                left: `${getPosition(year)}px`,\n                width: '2px',\n                height: '100%',\n                background: 'linear-gradient(to bottom, #cd853f 0%, #cd853f 20%, rgba(205, 133, 63, 0.3) 100%)',\n                zIndex: 5\n              }} />\n            ))}\n          </div>\n\n          {/* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –≥—Ä—É–ø–ø */}\n          <div style={{\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 200}px`,\n            pointerEvents: 'none',\n            zIndex: 8\n          }}>\n            {categoryDividers.map((divider) => (\n              <div key={`category-divider-${divider.category}`} style={{\n                position: 'absolute',\n                top: `${divider.top}px`,\n                left: '0',\n                width: '100%',\n                height: '10px',\n                background: `linear-gradient(to right, transparent 0%, ${getGroupColor(divider.category)} 20%, ${getGroupColor(divider.category)} 80%, transparent 100%)`,\n                opacity: 0.6,\n                zIndex: 8\n              }}>\n                <div className=\"category-label\" style={{\n                  position: 'absolute',\n                  left: '20px',\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  background: getGroupColor(divider.category),\n                  color: 'white',\n                  padding: '2px 8px',\n                  borderRadius: '4px',\n                  fontSize: '0.7rem',\n                  fontWeight: 'bold',\n                  whiteSpace: 'nowrap',\n                  zIndex: 9\n                }}>\n                  {divider.category}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* –ü–æ–ª–æ—Å–∫–∏ –∂–∏–∑–Ω–∏ */}\n          <div style={{ \n            position: 'relative',\n            width: `${timelineWidth}px`,\n            height: `${totalHeight + 60}px`,\n            zIndex: 10\n          }}>\n            {rowPlacement.map((row, rowIndex) => (\n              <div key={rowIndex} style={{\n                position: 'relative',\n                height: row.length === 0 ? '20px' : '60px',\n                marginBottom: row.length === 0 ? '0px' : '10px'\n              }}>\n                {row.map((person) => (\n                  <React.Fragment key={person.id}>\n                    {/* –ì–æ–¥—ã –∂–∏–∑–Ω–∏ –∏ –ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–¥ –ø–æ–ª–æ—Å–∫–æ–π */}\n                    <span style={{\n                      position: 'absolute',\n                      left: `${getPosition(person.birthYear)}px`,\n                      top: 0,\n                      fontSize: '11px',\n                      color: 'rgba(244, 228, 193, 0.6)',\n                      fontStyle: 'italic',\n                      fontWeight: 400,\n                      transform: 'translateX(-100%) translateY(-10px)'\n                    }}>{person.birthYear}</span>\n\n                    {person.reignStart && (\n                      <span className=\"reign-label\" style={{\n                        position: 'absolute',\n                        left: `${getPosition(person.reignStart)}px`,\n                        top: 0,\n                        fontSize: '11px',\n                        color: '#E57373', // –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π\n                        fontStyle: 'italic',\n                        fontWeight: 'bold',\n                        transform: 'translateX(-100%) translateY(-22px)'\n                      }}>üëë {person.reignStart}</span>\n                    )}\n\n                    {person.reignEnd && (\n                      <span className=\"reign-label\" style={{\n                        position: 'absolute',\n                        left: `${getPosition(person.reignEnd)}px`,\n                        top: 0,\n                        fontSize: '11px',\n                        color: '#E57373', // –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π\n                        fontStyle: 'italic',\n                        fontWeight: 'bold',\n                        transform: 'translateY(-22px)'\n                      }}>{person.reignEnd}</span>\n                    )}\n                    \n                    <span style={{\n                      position: 'absolute',\n                      left: `${getPosition(person.deathYear)}px`,\n                      top: 0,\n                      fontSize: '11px',\n                      color: 'rgba(244, 228, 193, 0.6)',\n                      fontStyle: 'italic',\n                      fontWeight: 400,\n                      transform: 'translateY(-10px)'\n                    }}>{person.deathYear}</span>\n\n                    {/* –ú–∞—Ä–∫–µ—Ä—ã –∫–ª—é—á–µ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */}\n                    {filters.showAchievements && [person.achievementYear1, person.achievementYear2, person.achievementYear3]\n                      .filter(year => year !== undefined && year !== null)\n                      .map((year, index) => {\n                        return (\n                          <div key={index} style={{\n                            position: 'absolute',\n                            left: `${getPosition(year as number)}px`,\n                            top: '-4px',\n                            width: '2px',\n                            height: '15px',\n                            backgroundColor: getCategoryColorDark(person.category),\n                            zIndex: activeAchievementMarker?.personId === person.id && activeAchievementMarker?.index === index ? 10 : 3,\n                            transform: 'translateX(-50%)',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease'\n                          }}\n                          onMouseEnter={(e) => {\n                                                    e.currentTarget.style.backgroundColor = getGroupColor(getPersonGroup(person));\n                        e.currentTarget.style.boxShadow = `0 0 3px ${getGroupColor(getPersonGroup(person))}`;\n                            // –ù–∞—Ö–æ–¥–∏–º span –≤–Ω—É—Ç—Ä–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –µ–≥–æ —Å—Ç–∏–ª–∏\n                            const span = e.currentTarget.querySelector('span');\n                            if (span) {\n                              span.style.backgroundColor = 'rgba(44, 24, 16, 0.95)';\n                                                          span.style.borderColor = getGroupColor(getPersonGroup(person));\n                            span.style.color = getGroupColor(getPersonGroup(person));\n                              span.style.fontSize = '9px';\n                              span.style.padding = '2px 4px';\n                              span.style.borderRadius = '3px';\n                            }\n                            \n                            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä–∫–µ—Ä\n                            setActiveAchievementMarker({ personId: person.id, index });\n                            \n                            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å\n                            if (hoverTimerRef.current) {\n                              clearTimeout(hoverTimerRef.current);\n                            }\n                            \n                            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –ø–æ–∫–∞–∑–∞ tooltip\n                            hoverTimerRef.current = setTimeout(() => {\n                              setHoveredAchievement({ person, year: year as number, index });\n                              setAchievementTooltipPosition({ x: e.clientX, y: e.clientY });\n                              setShowAchievementTooltip(true);\n                            }, 500);\n                          }}\n                          onMouseLeave={(e) => {\n                            e.currentTarget.style.backgroundColor = getCategoryColorDark(person.category);\n                            e.currentTarget.style.boxShadow = 'none';\n                            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∏–ª–∏ span –∫ –∏—Å—Ö–æ–¥–Ω—ã–º\n                            const span = e.currentTarget.querySelector('span');\n                            if (span) {\n                              span.style.backgroundColor = 'rgba(44, 24, 16, 0.9)';\n                                                          span.style.borderColor = getGroupColorDark(getPersonGroup(person));\n                            span.style.color = getGroupColorDark(getPersonGroup(person));\n                              span.style.fontSize = '8px';\n                              span.style.padding = '1px 3px';\n                              span.style.borderRadius = '2px';\n                            }\n                            \n                            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä–∫–µ—Ä\n                            setActiveAchievementMarker(null);\n                            \n                            // –û—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä –∏ —Å–∫—Ä—ã–≤–∞–µ–º tooltip\n                            if (hoverTimerRef.current) {\n                              clearTimeout(hoverTimerRef.current);\n                              hoverTimerRef.current = null;\n                            }\n                            setShowAchievementTooltip(false);\n                            setHoveredAchievement(null);\n                          }}\n                          onMouseMove={(e) => {\n                            setAchievementTooltipPosition({ x: e.clientX, y: e.clientY });\n                          }}\n                          onMouseOut={(e) => {\n                            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ onMouseLeave –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª\n                            if (!e.currentTarget.contains(e.relatedTarget as Node)) {\n                              setActiveAchievementMarker(null);\n                              if (hoverTimerRef.current) {\n                                clearTimeout(hoverTimerRef.current);\n                                hoverTimerRef.current = null;\n                              }\n                              setShowAchievementTooltip(false);\n                              setHoveredAchievement(null);\n                            }\n                          }}\n                          >\n                            <span style={{\n                              position: 'absolute',\n                              top: '-12px',\n                              left: '50%',\n                              transform: 'translateX(-50%)',\n                              fontSize: '8px',\n                              color: getGroupColorDark(getPersonGroup(person)),\n                              fontWeight: 'bold',\n                              whiteSpace: 'nowrap',\n                              backgroundColor: 'rgba(44, 24, 16, 0.9)',\n                              padding: '1px 3px',\n                              borderRadius: '2px',\n                              border: `1px solid ${getGroupColorDark(getPersonGroup(person))}`,\n                              transition: 'all 0.2s ease'\n                            }}>\n                              {year}\n                            </span>\n                          </div>\n                        );\n                      })}\n\n                    {/* –ø–æ–ª–æ—Å–∞ –ø—Ä–∞–≤–ª–µ–Ω–∏—è */}\n                    {person.reignStart && person.reignEnd && (\n                      <div style={{\n                        position: 'absolute',\n                        top: '-15px',\n                        left: `${getPosition(person.reignStart)}px`,\n                        width: `${getWidth(person.reignStart, person.reignEnd)}px`,\n                        height: '65px',\n                        backgroundColor: 'rgba(211, 47, 47, 0.25)',\n                        pointerEvents: 'none',\n                        borderLeft: '2px solid #D32F2F',\n                        borderRight: '2px solid #D32F2F',\n                        borderRadius: '3px',\n                        zIndex: 1\n                      }} />\n                    )}\n\n                    <div\n                      className=\"life-bar\"\n                      style={{\n                        position: 'absolute',\n                        top: '10px',\n                        left: `${getPosition(person.birthYear)}px`,\n                        width: `${getWidth(person.birthYear, person.deathYear)}px`,\n                        height: '40px',\n                        background: `linear-gradient(135deg, ${getGroupColorMuted(getPersonGroup(person))} 0%, #6a5a3a 100%)`,\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        padding: '0 12px',\n                        color: 'white',\n                        fontSize: '14px',\n                        fontWeight: 'bold',\n                        minWidth: '60px',\n                        boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\n                        border: '1.5px solid #a8926a',\n                        opacity: 1,\n                        zIndex: 5\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.transform = 'translateY(-3px) scale(1.02)'\n                        e.currentTarget.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.4)'\n                        e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.4)'\n                        setHoveredPerson(person)\n                        setMousePosition({ x: e.clientX, y: e.clientY })\n                        setTimeout(() => setShowTooltip(true), 300)\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.transform = 'translateY(0) scale(1)'\n                        e.currentTarget.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)'\n                        e.currentTarget.style.borderColor = 'rgba(255, 255, 255, 0.2)'\n                        setHoveredPerson(null)\n                        setShowTooltip(false)\n                      }}\n                      onMouseMove={(e) => {\n                        setMousePosition({ x: e.clientX, y: e.clientY })\n                      }}\n                    >\n                      <div style={{ display: 'flex', flexDirection: 'column', lineHeight: '1.2' }}>\n                        <span>{person.name}</span>\n                      </div>\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      </main>\n\n      {/* –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π */}\n      {hoveredPerson && showTooltip && (\n        <div className=\"tooltip\" style={{ \n          position: 'fixed',\n          left: `${mousePosition.x + 15}px`,\n          top: `${mousePosition.y - 10}px`,\n          padding: '1rem',\n          zIndex: 1000,\n          maxWidth: '300px',\n          minWidth: '250px',\n          color: '#f4e4c1',\n          pointerEvents: 'none',\n          opacity: 0,\n          transform: 'translateY(10px) scale(0.95)',\n          animation: 'tooltipFadeIn 0.2s ease-out forwards'\n        }}>\n          {/* –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —á–µ–ª–æ–≤–µ–∫–∞, –µ—Å–ª–∏ –µ—Å—Ç—å */}\n          {hoveredPerson.imageUrl && (\n            <div style={{ \n              marginBottom: '0.75rem',\n              textAlign: 'center'\n            }}>\n              <img \n                src={hoveredPerson.imageUrl} \n                alt={hoveredPerson.name}\n                style={{\n                  width: '80px',\n                  height: '80px',\n                  borderRadius: '50%',\n                  objectFit: 'cover',\n                  border: `2px solid ${getGroupColor(getPersonGroup(hoveredPerson))}`,\n                  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.3)'\n                }}\n                onError={(e) => {\n                  // –°–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å\n                  e.currentTarget.style.display = 'none';\n                }}\n              />\n            </div>\n          )}\n          \n          <h3 style={{ \n            margin: '0 0 0.5rem 0', \n                            color: getGroupColor(getPersonGroup(hoveredPerson)),\n            fontSize: '1.1rem',\n            fontWeight: 'bold'\n          }}>\n            {hoveredPerson.name}\n          </h3>\n          \n          <div style={{ fontSize: '0.85rem', lineHeight: '1.4' }}>\n            <p style={{ margin: '0.25rem 0', fontWeight: 'bold' }}>\n              {hoveredPerson.birthYear} - {hoveredPerson.deathYear}\n            </p>\n            <p style={{ margin: '0.25rem 0' }}>\n              <span style={{ color: getCategoryColor(hoveredPerson.category), fontWeight: 'bold' }}>\n                {hoveredPerson.category}\n              </span> ‚Ä¢ {hoveredPerson.country}\n            </p>\n            <p style={{ margin: '0.5rem 0', fontStyle: 'italic', opacity: 0.8 }}>\n              {hoveredPerson.description}\n            </p>\n            \n            {/* –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ –≥–æ–¥–∞–º */}\n            {filters.showAchievements && ([hoveredPerson.achievementYear1, hoveredPerson.achievementYear2, hoveredPerson.achievementYear3]\n              .filter(year => year !== undefined && year !== null).length > 0) && (\n              <div style={{ marginTop: '0.5rem' }}>\n                <strong style={{ fontSize: '0.8rem', color: getGroupColor(getPersonGroup(hoveredPerson)) }}>\n                  üéØ –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:\n                </strong>\n                <div style={{ \n                  margin: '0.25rem 0 0 0',\n                  fontSize: '0.8rem'\n                }}>\n                  {[hoveredPerson.achievementYear1, hoveredPerson.achievementYear2, hoveredPerson.achievementYear3]\n                    .filter(year => year !== undefined && year !== null)\n                    .map((year, index) => (\n                      <div key={index} style={{ \n                        marginBottom: '0.1rem',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '0.5rem'\n                      }}>\n                        <span style={{ \n                          color: getGroupColor(getPersonGroup(hoveredPerson)),\n                          fontWeight: 'bold',\n                          fontSize: '0.75rem'\n                        }}>\n                          {year}\n                        </span>\n                        <span style={{ fontSize: '0.75rem' }}>\n                          {hoveredPerson.achievements[index] || '–ö–ª—é—á–µ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ'}\n                        </span>\n                      </div>\n                    ))}\n                </div>\n              </div>\n            )}\n\n\n          </div>\n        </div>\n      )}\n\n      {/* –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */}\n      {hoveredAchievement && showAchievementTooltip && (\n        <div className=\"achievement-tooltip\" style={{ \n          position: 'fixed',\n          left: `${achievementTooltipPosition.x + 15}px`,\n          top: `${achievementTooltipPosition.y - 10}px`,\n          padding: '0.75rem',\n          zIndex: 1001,\n          maxWidth: '250px',\n          minWidth: '200px',\n          color: '#f4e4c1',\n          pointerEvents: 'none',\n          opacity: 0,\n          transform: 'translateY(10px) scale(0.95)',\n          animation: 'tooltipFadeIn 0.2s ease-out forwards',\n          backgroundColor: 'rgba(44, 24, 16, 0.95)',\n          borderRadius: '6px',\n                          border: `2px solid ${getGroupColor(getPersonGroup(hoveredAchievement.person))}`,\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n        }}>\n          <div style={{ fontSize: '0.85rem', lineHeight: '1.4' }}>\n            {/* –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —á–µ–ª–æ–≤–µ–∫–∞, –µ—Å–ª–∏ –µ—Å—Ç—å */}\n            {hoveredAchievement.person.imageUrl && (\n              <div style={{ \n                marginBottom: '0.5rem',\n                textAlign: 'center'\n              }}>\n                <img \n                  src={hoveredAchievement.person.imageUrl} \n                  alt={hoveredAchievement.person.name}\n                  style={{\n                    width: '50px',\n                    height: '50px',\n                    borderRadius: '50%',\n                    objectFit: 'cover',\n                    border: `2px solid ${getGroupColor(getPersonGroup(hoveredAchievement.person))}`,\n                    boxShadow: '0 2px 6px rgba(0, 0, 0, 0.3)'\n                  }}\n                  onError={(e) => {\n                    // –°–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å\n                    e.currentTarget.style.display = 'none';\n                  }}\n                />\n              </div>\n            )}\n            \n            <h4 style={{ \n              margin: '0 0 0.5rem 0', \n              color: getGroupColor(getPersonGroup(hoveredAchievement.person)),\n              fontSize: '1rem',\n              fontWeight: 'bold'\n            }}>\n              {hoveredAchievement.person.name}\n            </h4>\n            \n            <p style={{ \n              margin: '0.25rem 0', \n              fontWeight: 'bold',\n              color: getGroupColor(getPersonGroup(hoveredAchievement.person)),\n              fontSize: '0.9rem'\n            }}>\n              üéØ {hoveredAchievement.year}\n            </p>\n            \n            <p style={{ \n              margin: '0.25rem 0', \n              fontSize: '0.8rem',\n              fontStyle: 'italic'\n            }}>\n              {hoveredAchievement.person.achievements[hoveredAchievement.index] || '–ö–ª—é—á–µ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ'}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default App "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}